(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{103:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);t.default={WebkitTapHighlightColor:"rgba(0,0,0,0)",WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",cursor:"pointer"}},152:function(e,t,a){},158:function(e,t,a){},187:function(e,t,a){},189:function(e,t,a){},194:function(e,t,a){var n=a(240);function i(){n.update(),n.getAll().length&&window.requestAnimationFrame(i)}function o(e,t){t=t||{};var a=e.scrollTop,o=Math.min(Math.max(200,a/2),350);a>200&&(o=300),e.style.webkitOverflowScrolling="auto",e.style.overflow="hidden";var r=new n.Tween({pos:a}).to({pos:0},o).easing(n.Easing.Quadratic.Out).onUpdate(function(){e.scrollTop=this.pos,t.onUpdate&&t.onUpdate()}).onComplete(function(){e.style.webkitOverflowScrolling="touch",e.style.overflow="scroll",t.onComplete&&t.onComplete()}).start();return i(),r}t.scrollToTop=o,(t.Mixins={}).ScrollContainerToTop={componentDidMount:function(){window.addEventListener("statusTap",this.scrollContainerToTop)},componentWillUnmount:function(){window.removeEventListener("statusTap",this.scrollContainerToTop),this._scrollContainerAnimation&&this._scrollContainerAnimation.stop()},scrollContainerToTop:function(){var e=this;this.refs.scrollContainer&&(this._scrollContainerAnimation=o(this.refs.scrollContainer,{onComplete:function(){delete e._scrollContainerAnimation}}))}}},208:function(e,t,a){e.exports=a(753)},241:function(e,t,a){},385:function(e,t,a){},65:function(e,t,a){},736:function(e,t){},745:function(e,t,a){},746:function(e,t,a){},748:function(e,t,a){},749:function(e,t,a){},750:function(e,t,a){},751:function(e,t,a){},752:function(e,t,a){},753:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),o=a(23),r=a.n(o),s=a(41),c=a(19),l=a(20),u=a.n(l),p="user",h={me:null};function d(e){return function(t){var a=weui.loading("\u52a0\u8f7d\u4e2d...");return u.a.get("/me").then(function(n){var i=n.data;a.hide(),e&&e(i),t({type:p+"/setState",payload:{me:i.body}})}).catch(function(t){a.hide(),e&&e({error:t})})}}var m="order",v={items:[],item:null,order_id:null,showDetail:!1,order_no:null,loadingDetail:!0,firstLoading:!0};function f(e,t){return function(a){return a({type:m+"/setState",payload:{item:null,loadingDetail:!0}}),u.a.get("/order/"+e).then(function(e){var n=e.data;t&&t(n.body),a({type:m+"/setState",payload:{item:n.body,loadingDetail:!1}})}).catch(function(e){a({type:m+"/setState",payload:{item:null,loadingDetail:!1}}),weui.topTips(e),t&&t({error:e})})}}var y="instance",b={items:[],item:null,loading:!1,error:null,showVipLines:!1,selectedVipType:null,showVipLinesActionSheet:!1,timestamp:null,showAddService:!1,firstLoading:!0};function g(e,t){return function(a){E();var n=weui.loading("\u5220\u9664\u4e2d...",{showMask:!0});return u.a.delete("/compute/instance/".concat(e),null).then(function(e){e.data;n.hide(),t&&t()}).catch(function(e){n.hide(),t&&t()})}}function w(e,t){console.log("saveInstanceServices",e.id);var a=e.services,n=weui.loading("\u4fdd\u5b58\u4e2d...");return function(i){return u.a.put("/compute/instance/services/".concat(e.id),{services:a}).then(function(e){var a=e.data;n.hide(),t&&t(a)}).catch(function(e){n.hide(),weui.topTips(e),t&&t({error:e})})}}function _(e,t){return console.log("getInstance",e),function(a){return u.a.get("/compute/instance/".concat(e),{timeout:25e3}).then(function(n){var i=n.data;t?t(i):(console.log("res",e,i.body.ip,i.body.status),"OK"===i.body.status||"RUNNING"===i.body.status?a(O()):setTimeout(function(){a(_(e))},1400))}).catch(function(t){setTimeout(function(){a(_(e))},1400)})}}function E(){window.__time_id_fetch_instance&&clearInterval(window.__time_id_fetch_instance)}function O(){return function(e){return u.a.get("/compute/instances").then(function(t){var a=t.data;e({type:y+"/setState",payload:{items:a.body.rows,firstLoading:!1}}),E(),a.body,window.__time_id_fetch_instance=setInterval(function(){a.body},3e3)}).catch(function(t){e({type:y+"/setState",payload:{firstLoading:!1}})})}}window.globalObject.delays={};var j=a(104),k="payment",N={items:[]};function T(e,t){var a=e.payment_type,n=e.payment_id;return function(e){return u.a.get("/payment/"+a+"/check/".concat(n)).then(function(e){var a=e.data;t(a)}).catch(function(e){t({error:e})})}}var C="line",S={items:[]};var I="content",D={items:[],item:null,firstLoading:!0,loadingDetail:!0};function M(e,t){var a=e.id,n=e.slug;return function(e){e({type:I+"/setState",payload:{item:null,loadingDetail:!0}});var i=a?"/content/"+a:"/content/slug/"+n;return u.a.get(i).then(function(a){var n=a.data;t&&t(n.body),e({type:I+"/setState",payload:{item:n.body,loadingDetail:!1}})}).catch(function(a){e({type:I+"/setState",payload:{item:null,loadingDetail:!1}}),weui.topTips(a),t&&t({error:a})})}}var A={loading:!0,access_token:null,constant:null};var P="shadowsocks",x={current_connect_status:null,current_connect_id:window.localStorage.getItem("current_connect_id"),alertbar:{visible:!1,type:"",text:""}};var L="route",B={page:{},breadcrumb_actions:[],index:!0,page_close_id:null,pages_history:[],go_1:!1,page_id:"index"};var R="eth",F={payment:null};var G=Object(s.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p+"/setState":return Object(c.a)({},e,t.payload);default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/setState":case"app/logged":return Object(c.a)({},e,t.payload);default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m+"/setState":return Object(c.a)({},e,t.payload);default:return e}},instance:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"instance/setState":return Object(c.a)({},e,t.payload);default:return e}},payment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k+"/setState":return Object(c.a)({},e,t.payload);default:return e}},route:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0,a=e.keys;switch(t.type){case L+"/setState":return Object(c.a)({},e,t.payload);case L+"/init":return Object(c.a)({},e,{page:{}});case L+"/hideBreadcrumb_actions":return Object(c.a)({},e,{breadcrumb_actions:[]});case L+"/showBreadcrumb_actions":return Object(c.a)({},e,{breadcrumb_actions:t.payload});case L+"/onClosePage":return Object(c.a)({},e,t.payload);case L+"/hidePage":var n=a.pop();console.log("hidePage",n,a);var i={};return i[n]={visible:!1,id:n},Object(c.a)({},e,{page:Object(c.a)({},e.page,i),page_close_id:null,index:!0,keys:a});case L+"/showPage":var o=t.payload.id,r={};return r[o]=Object(c.a)({visible:!0,id:o},t.payload),Object(c.a)({},e,{page:Object(c.a)({},e.page,r),page_close_id:null,index:!1,keys:a});default:return e}},line:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C+"/setState":return Object(c.a)({},e,t.payload);default:return e}},shadowsocks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P+"/setState":return Object(c.a)({},e,t.payload);default:return e}},eth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R+"/setState":return Object(c.a)({},e,t.payload);default:return e}},content:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I+"/setState":return Object(c.a)({},e,t.payload);default:return e}}}),V=a(191),U=a(21),Y=a(193),z=a.n(Y);function q(e){return e<10?"0"+e:e}function W(e){var t=new Date;return t.setTime(e),t.getFullYear()+"\u5e74"+q(t.getMonth()+1)+"\u6708"+q(t.getDate())+"\u65e5 "+q(t.getHours())+":"+q(t.getMinutes())}function H(e,t,a){var n="",i=t,o=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];e&&(i=Math.round(Math.random()*(a-t))+t);for(var r=0;r<i;r++){n+=o[Math.round(Math.random()*(o.length-1))]}return n}function Q(e){return z()(e,!0)}function J(){var e=localStorage.getItem("access_token");return u.a.defaults.headers.common.Authorization=e||void 0,e}function K(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function X(e){localStorage.setItem("access_token",e),u.a.defaults.headers.common.Authorization=e}function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#login";if(localStorage.removeItem("access_token"),u.a.defaults.headers.common.Authorization=null,!(window.location.href.indexOf("?redirect=")>0))if(window.current_app)try{window.current_app.viewManagers.main.context.app.transitionTo("main:login",{transition:"show-from-right"})}catch(a){console.error(a),window.location.href="".concat(e)}else{var t="".concat(e,"?redirect=")+encodeURIComponent(window.location.href.replace("#login",""));console.log(t),window.location.href=t,window.login_reload&&window.location.reload()}}function Z(e,t){var a=[],n={};for(var i in e){var o=e[i].split("-"),r="".concat(o[0],"-").concat(o[1]);n[o[0]]||(n[o[0]]={}),!n[o[0]][o[1]]&&t[r]&&(n[o[0]][o[1]]=[]),t[r]&&n[o[0]][o[1]].push(o[2])}for(var s in Object.keys(n)){var c=Object.keys(n)[s],l={},u=[];for(var p in Object.keys(n[c])){var h=Object.keys(n[c])[p],d={};d.value=h;var m="".concat(c,"-").concat(h);t[m]&&(d.label=t[m],d.children=n[c][h].map(function(e){return{value:e,label:e}}),u.push(d))}u.length>0&&(l.value=c,l.label=t[c],l.children=u,a.push(l))}return a}function ee(e){var t=e.split("-");return window.globalObject.constant.zone_names[t[0]+"-"+t[1]]+"-"+t[2]}function te(e,t){var a=document.createElement("a");a.setAttribute("href",e),t&&a.setAttribute("target",t),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}var ae=function(e,t,a){var n;function i(){var i,o;a.userAgent.match(/ipad|iphone/i)?((i=t.createRange()).selectNodeContents(n),(o=e.getSelection()).removeAllRanges(),o.addRange(i),n.setSelectionRange(0,999999)):n.select()}return{copy:function(e){!function(e){(n=t.createElement("textArea")).value=e,t.body.appendChild(n)}(e),i(),t.execCommand("copy"),t.body.removeChild(n)}}}(window,document,navigator);function ne(){var e=navigator.userAgent.toLowerCase();return/(iphone|ipad|ipod|ios)/i.test(e)?"ios":/(macintosh|mac os x)/i.test(e)?"mac":/(windows|win32)/i.test(e)?"windows":/(android)/i.test(e)?"android":/(cordova)/i.test(e)?"cordova":"web"}var ie=function(e){var t=window.globalObject.constant.y_deng.title;document.title=(e?e+" - ":"")+t};var oe=localStorage.getItem("check_token_sec_gap"),re=!1,se=function(){u.a.defaults.timeout=15e3,u.a.interceptors.request.use(function(e){var t=e.url;if(!1===re&&0===t.indexOf("/")&&0!==t.indexOf("/auth")&&0!==t.indexOf("/token")){var a=localStorage.getItem("last_request"),n=(new Date).getTime();oe=oe?parseInt(oe):7200,n-a>1e3*oe&&(re=!0,u.a.post("/token/refresh").then(function(e){if(e){var t=e.data,a=t.body;if(200===t.code){var i=a.access_token,o=a.check_token_sec_gap;localStorage.setItem("access_token",i),localStorage.setItem("last_request",n),o||(o=oe),localStorage.setItem("check_token_sec_gap",o)}}}).catch(function(e){re=!1}))}var i=window.globalObject.base_api_url;return t&&0===t.indexOf("http")?e.url="".concat(t):e.url="".concat(i).concat(t),window.globalObject.constant.y_deng&&e.url.indexOf(window.globalObject.constant.y_deng.local_server)>=0&&(e.headers.common={}),e},function(e){return console.error("request",e),Promise.reject(e)}),u.a.interceptors.response.use(function(e){return e.data&&e.data.code&&403===e.data.code?Promise.reject(Error("\u6ca1\u6709\u6743\u9650")):e},function(e){if(console.error("response",e.message),!(e.message.indexOf("401")>0||e.response&&401===e.response.status))return Promise.reject(e);localStorage.removeItem("access_token"),$()})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ce=a(3),le=a(5),ue=a(4),pe=a(2),he=a(6),de=["instance","order","plan","account"],me=a(194),ve=a.n(me),fe=a(17),ye=a.n(fe),be=a(7),ge=a.n(be);ge.a.number,ge.a.number,ge.a.number,ge.a.number,ge.a.bool,ge.a.bool,ge.a.func,ge.a.func,ge.a.func,ge.a.func,ge.a.func,ge.a.func,ge.a.func,ge.a.func,ge.a.func;var we=a(105);function _e(e){return e?{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY}:{}}var Ee=function(e){function t(e){var a;return Object(ce.a)(this,t),(a=Object(le.a)(this,Object(ue.a)(t).call(this,e))).displayName="Tappable",a.state={isActive:!1,touchActive:!1,pinchActive:!1},a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"componentWillUnmount",value:function(){this.cleanupScrollDetection(),this.cancelPressDetection(),this.clearActiveTimeout()}},{key:"processEvent",value:function(e){this.props.preventDefault&&e.preventDefault(),this.props.stopPropagation&&e.stopPropagation()}},{key:"onTouchStart",value:function(e){var t=this;this.props.onTouchStart&&!1===this.props.onTouchStart(e)||(this.processEvent(e),window._blockMouseEvents=!0,1===e.touches.length?(this._initialTouch=this._lastTouch=_e(e.touches[0]),this.initScrollDetection(),this.initPressDetection(e,this.endTouch),this._activeTimeout=setTimeout(function(){t.makeActive()},this.props.active_delay)):this.onPinchStart&&(this.props.onPinchStart||this.props.onPinchMove||this.props.onPinchEnd)&&2===e.touches.length&&this.onPinchStart(e))}},{key:"makeActive",value:function(){this.clearActiveTimeout(),this.setState({isActive:!0})}},{key:"clearActiveTimeout",value:function(){clearTimeout(this._activeTimeout),this._activeTimeout=!1}},{key:"initScrollDetection",value:function(){this._scrollPos={top:0,left:0},this._scrollParents=[],this._scrollParentPos=[];for(var e=r.a.findDOMNode(this);e;)(e.scrollHeight>e.offsetHeight||e.scrollWidth>e.offsetWidth)&&(this._scrollParents.push(e),this._scrollParentPos.push(e.scrollTop+e.scrollLeft),this._scrollPos.top+=e.scrollTop,this._scrollPos.left+=e.scrollLeft),e=e.parentNode}},{key:"calculateMovement",value:function(e){return{x:Math.abs(e.clientX-this._initialTouch.clientX),y:Math.abs(e.clientY-this._initialTouch.clientY)}}},{key:"detectScroll",value:function(){for(var e={top:0,left:0},t=0;t<this._scrollParents.length;t++)e.top+=this._scrollParents[t].scrollTop,e.left+=this._scrollParents[t].scrollLeft;return!(e.top===this._scrollPos.top&&e.left===this._scrollPos.left)}},{key:"cleanupScrollDetection",value:function(){this._scrollParents=void 0,this._scrollPos=void 0}},{key:"initPressDetection",value:function(e,t){this.props.onPress&&(this._pressTimeout=setTimeout(function(){this.props.onPress(e),t()}.bind(this),this.props.pressDelay))}},{key:"cancelPressDetection",value:function(){clearTimeout(this._pressTimeout)}},{key:"onTouchMove",value:function(e){if(this._initialTouch){if(this.processEvent(e),this.detectScroll())return this.endTouch(e);this.props.onTouchMove&&this.props.onTouchMove(e),this._lastTouch=_e(e.touches[0]);var t=this.calculateMovement(this._lastTouch);(t.x>this.props.pressMoveThreshold||t.y>this.props.pressMoveThreshold)&&this.cancelPressDetection(),t.x>this.props.moveThreshold||t.y>this.props.moveThreshold?this.state.isActive?this.setState({isActive:!1}):this._activeTimeout&&this.clearActiveTimeout():this.state.isActive||this._activeTimeout||this.setState({isActive:!0})}else this._initialPinch&&2===e.touches.length&&this.onPinchMove&&(this.onPinchMove(e),e.preventDefault())}},{key:"onTouchEnd",value:function(e){var t=this;if(this._initialTouch){var a;this.processEvent(e);var n=this.calculateMovement(this._lastTouch);n.x<=this.props.moveThreshold&&n.y<=this.props.moveThreshold&&this.props.onTap&&(e.preventDefault(),a=function(){var a=t._scrollParents.map(function(e){return e.scrollTop+e.scrollLeft});t._scrollParentPos.some(function(e,t){return e!==a[t]})||t.props.onTap(e)}),this.endTouch(e,a)}else this.onPinchEnd&&this._initialPinch&&e.touches.length+e.changedTouches.length===2&&(this.onPinchEnd(e),e.preventDefault())}},{key:"endTouch",value:function(e,t){this.cancelPressDetection(),this.clearActiveTimeout(),e&&this.props.onTouchEnd&&this.props.onTouchEnd(e),this._initialTouch=null,this._lastTouch=null,t&&t(),this.state.isActive&&this.setState({isActive:!1})}},{key:"onMouseDown",value:function(e){window._blockMouseEvents?window._blockMouseEvents=!1:this.props.onMouseDown&&!1===this.props.onMouseDown(e)||(this.processEvent(e),this.initPressDetection(e,this.endMouseEvent),this._mouseDown=!0,this.setState({isActive:!0}))}},{key:"onMouseMove",value:function(e){!window._blockMouseEvents&&this._mouseDown&&(this.processEvent(e),this.props.onMouseMove&&this.props.onMouseMove(e))}},{key:"onMouseUp",value:function(e){!window._blockMouseEvents&&this._mouseDown&&(this.processEvent(e),this.props.onMouseUp&&this.props.onMouseUp(e),this.props.onTap&&this.props.onTap(e),this.endMouseEvent())}},{key:"onMouseOut",value:function(e){!window._blockMouseEvents&&this._mouseDown&&(this.processEvent(e),this.props.onMouseOut&&this.props.onMouseOut(e),this.endMouseEvent())}},{key:"endMouseEvent",value:function(){this.cancelPressDetection(),this._mouseDown=!1,this.setState({isActive:!1})}},{key:"cancelTap",value:function(){this.endTouch(),this._mouseDown=!1}},{key:"handlers",value:function(){return{onTouchStart:this.onTouchStart.bind(this),onTouchMove:this.onTouchMove.bind(this),onTouchEnd:this.onTouchEnd.bind(this),onMouseDown:this.onMouseDown.bind(this),onMouseUp:this.onMouseUp.bind(this),onMouseMove:this.onMouseMove.bind(this),onMouseOut:this.onMouseOut.bind(this)}}},{key:"render",value:function(){var e=this.props,t=e.class_base+(this.state.isActive?"-active":"-inactive");e.className&&(t+=" "+e.className),e.classes&&(t+=" "+(this.state.isActive?e.classes.active:e.classes.inactive));var a={};Object.assign(a,we,e.style);var n=Object.assign({},e,{style:a,className:t,disabled:e.disabled,handlers:this.handlers},this.handlers());return delete n.onTap,delete n.onPress,delete n.onPinchStart,delete n.onPinchMove,delete n.onPinchEnd,delete n.moveThreshold,delete n.pressDelay,delete n.pressMoveThreshold,delete n.preventDefault,delete n.stopPropagation,delete n.component,delete n.handlers,e.component?i.a.createElement(e.component,n,e.children):null}}]),t}(n.Component);Ee.defaultProps=Object(c.a)({component:"span",class_base:"Tappable"},{active_delay:0,moveThreshold:100,pressDelay:1e3,pressMoveThreshold:5});var Oe=Ee,je=Oe,ke=function(e){function t(){return Object(ce.a)(this,t),Object(le.a)(this,Object(ue.a)(t).apply(this,arguments))}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"transitionTo",value:function(e,t){this.context.app.transitionTo(e,t)}},{key:"doTransition",value:function(){var e=Object.assign({viewProps:this.props.viewProps,transition:this.props.transition},this.props.options);console.info("Link to ",this.props.to,", using transition ",this.props.transition,", with props ",this.props.viewProps),this.transitionTo(this.props.to,e)}},{key:"render",value:function(){var e=ye()(this.props,"children","options","transition","viewProps");return i.a.createElement(je,Object.assign({onTap:this.doTransition.bind(this)},e),this.props.children)}}]),t}(n.Component);ke.contextTypes={app:ge.a.object};var Ne=ke,Te=a(11),Ce=a.n(Te),Se=(a(241),a(17)),Ie=a(11),De=a(23);var Me=function(e){function t(){return Object(ce.a)(this,t),Object(le.a)(this,Object(ue.a)(t).apply(this,arguments))}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"componentDidMount",value:function(){this.props.scrollable&&this.props.scrollable.mount&&this.props.scrollable.mount(this)}},{key:"componentWillUnmount",value:function(){this.props.scrollable&&this.props.scrollable.unmount&&this.props.scrollable.unmount(this)}},{key:"render",value:function(){var e=this.props.direction;e||function(e){var t=!1;return i.a.Children.forEach(e,function(e){t||e&&e.type.shouldFillVerticalSpace&&(t=!!e.type.shouldFillVerticalSpace)}),t}(this.props.children)&&(e="column");var t=this.props.fill;("column"===e||this.props.scrollable)&&(t=!0);var a=this.props.align;"column"===e&&"top"===a&&(a="start"),"column"===e&&"bottom"===a&&(a="end"),"row"===e&&"left"===a&&(a="start"),"row"===e&&"right"===a&&(a="end");var n=Ie(this.props.className,{"Container--fill":t,"Container--direction-column":"column"===e,"Container--direction-row":"row"===e,"Container--align-center":"center"===a,"Container--align-start":"start"===a,"Container--align-end":"end"===a,"Container--justify-center":"center"===this.props.justify,"Container--justify-start":"start"===this.props.justify,"Container--justify-end":"end"===this.props.justify,"Container--justified":!0===this.props.justify,"Container--scrollable":this.props.scrollable}),o=Se(this.props,"className","direction","fill","justify","scrollable");return i.a.createElement("div",Object.assign({className:n},o),this.props.children)}}]),t}(n.Component);Me.initScrollable=function(e){var t;e||(e={});var a={reset:function(){t={left:e.left||0,top:e.top||0}},getPos:function(){return{left:t.left,top:t.top}},mount:function(e){var a=De.findDOMNode(e);a.scrollLeft=t.left,a.scrollTop=t.top},unmount:function(e){var a=De.findDOMNode(e);t.left=a.scrollLeft,t.top=a.scrollTop}};return a.reset(),a};var Ae=Me,Pe=function(e){function t(){return Object(ce.a)(this,t),Object(le.a)(this,Object(ue.a)(t).apply(this,arguments))}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){return i.a.createElement(Ae,{fill:!0,className:"View ErrorView"},this.props.children)}}]),t}(n.Component),xe=a(27),Le=a.n(xe);function Be(e){var t={};return i.a.Children.forEach(e,function(e){t[e.props.name]=e}),t}var Re=function(e){function t(){return Object(ce.a)(this,t),Object(le.a)(this,Object(ue.a)(t).apply(this,arguments))}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){var e=ye()(this.props,"children");return i.a.createElement("div",e,this.props.children)}}]),t}(n.Component);Re.shouldFillVerticalSpace=!0;var Fe=function(e){function t(e){var a;return Object(ce.a)(this,t),(a=Object(le.a)(this,Object(ue.a)(t).call(this,e))).state={views:Be(a.props.children),currentView:a.props.defaultView,options:{}},a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"componentDidMount",value:function(){this.context.app.viewManagers[this.props.name]=this}},{key:"componentWillUnmount",value:function(){delete this.context.app.viewManagers[this.props.name]}},{key:"componentWillReceiveProps",value:function(e){this.setState({views:Be(e.children)}),e.name!==this.props.name&&(this.context.app.viewManagers[e.name]=this,delete this.context.app.viewManagers[this.props.name]),e.currentView&&e.currentView!==this.state.currentView&&this.transitionTo(e.currentView,{viewProps:e.viewProps})}},{key:"transitionTo",value:function(e,t){var a=this;"string"===typeof t&&(t={transition:t}),t||(t={}),this.activeTransitionOptions=t,this.context.app.viewManagerInTransition=this,this.props.onViewChange&&this.props.onViewChange(e),this.setState({currentView:e,options:t},function(){delete a.activeTransitionOptions,delete a.context.app.viewManagerInTransition})}},{key:"renderViewContainer",value:function(){var e=this.state.currentView;if(!e)return i.a.createElement(Pe,null,i.a.createElement("span",{className:"ErrorView__heading"},"ViewManager: ",this.props.name),i.a.createElement("span",{className:"ErrorView__text"},"Error: There is no current View."));var t=this.state.views[e];if(!t||!t.props.component)return i.a.createElement(Pe,null,i.a.createElement("span",{className:"ErrorView__heading"},'ViewManager: "',this.props.name,'"'),i.a.createElement("span",{className:"ErrorView__text"},'The View "',e,'" is invalid.'));var a=this.state.options||{},n=Ce()("View View--"+e,t.props.className),o=t.props.component,r=ye()(t.props,"component","className");Object.assign(r,a.viewProps,a.params,{dispatch:this.props.dispatch});var s=i.a.createElement(o,r);if(this.__lastRenderedView!==e){if(s.type.navigationBar&&s.type.getNavigation){var c=this.context.app,l=a.transition;c.viewManagerInTransition&&(l=c.viewManagerInTransition.activeTransitionOptions.transition),setTimeout(function(){c.navigationBars[s.type.navigationBar]&&c.navigationBars[s.type.navigationBar].updateWithTransition(s.type.getNavigation(r,c),l)},0)}this.__lastRenderedView=e}return i.a.createElement(Re,{className:n,key:e},s)}},{key:"render",value:function(){var e=Ce()("ViewManager",this.props.className),t=this.renderViewContainer(this.state.currentView,{viewProps:this.state.currentViewProps}),a="view-transition-instant",n=10,o=60;return this.state.options.transition&&(a="view-transition-"+this.state.options.transition,"fade"===this.state.options.transition?(n=10,o=340):(n="instant"===this.state.options.transition?50:500,o="instant"===this.state.options.transition?50:500)),i.a.createElement(Le.a,{transitionName:a,transitionEnterTimeout:n,transitionLeaveTimeout:o,className:e,component:"div"},t)}}]),t}(n.Component);Fe.contextTypes={app:ge.a.object},Fe.defaultProps={name:"__default"},Fe.shouldFillVerticalSpace=!0;var Ge=Object(U.b)()(Fe),Ve=function(e){function t(){return Object(ce.a)(this,t),Object(le.a)(this,Object(ue.a)(t).apply(this,arguments))}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){return this.props.component}}]),t}(i.a.Component),Ue=(ge.a.object,a(105)),Ye=Oe,ze=(Ue.default,{"reveal-from-right":-1,"show-from-left":-1,"show-from-right":1,"reveal-from-left":1}),qe={direction:0,fade:!1,leftArrow:!1,leftButtonDisabled:!1,leftIcon:"",leftLabel:"",leftAction:null,rightArrow:!1,rightButtonDisabled:!1,rightIcon:"",rightLabel:"",rightAction:null,title:""};function We(e){var t=Object.assign({},qe);return e&&Object.assign(t,e),delete t.name,t}var He=function(e){function t(e){var a;return Object(ce.a)(this,t),(a=Object(le.a)(this,Object(ue.a)(t).call(this,e))).state=We(a.props),a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"componentDidMount",value:function(){this.props.name&&(this.context.app.navigationBars[this.props.name]=this)}},{key:"componentWillUnmount",value:function(){this.props.name&&delete this.context.app.navigationBars[this.props.name]}},{key:"componentWillReceiveProps",value:function(e){this.setState(We(e)),e.name!==this.props.name&&(e.name&&(this.context.app.navigationBars[e.name]=this),this.props.name&&delete this.context.app.navigationBars[this.props.name])}},{key:"update",value:function(e){e=We(e),this.setState(We(e))}},{key:"updateWithTransition",value:function(e,t){(e=We(e)).direction=ze[t]||0,"fade"!==t&&"fade-contract"!==t&&"fade-expand"!==t||(e.fade=!0),this.setState(e)}},{key:"renderLeftButton",value:function(){var e=Ce()("NavigationBarLeftButton",{"has-arrow":this.state.leftArrow});return i.a.createElement(Ye,{onTap:this.state.leftAction,className:e,disabled:this.state.leftButtonDisabled,component:"button"},this.renderLeftArrow(),this.renderLeftLabel())}},{key:"renderLeftArrow",value:function(){var e="NavigationBarTransition-Instant";(this.state.fade||this.state.direction)&&(e="NavigationBarTransition-Fade");var t="NavigationBarTransition-Instant"===e?50:500,a=this.state.leftArrow?i.a.createElement("div",{className:"NavigationBarLeftArrow"}):null;return i.a.createElement(Le.a,{transitionName:e,transitionEnterTimeout:t,transitionLeaveTimeout:t},a)}},{key:"renderLeftLabel",value:function(){var e="NavigationBarTransition-Instant";this.state.fade?e="NavigationBarTransition-Fade":this.state.direction>0?e="NavigationBarTransition-Forwards":this.state.direction<0&&(e="NavigationBarTransition-Backwards");var t="NavigationBarTransition-Instant"===e?50:500;return i.a.createElement(Le.a,{transitionName:e,transitionEnterTimeout:t,transitionLeaveTimeout:t},i.a.createElement("div",{key:Date.now(),className:"NavigationBarLeftLabel"},this.state.leftLabel))}},{key:"renderTitle",value:function(){var e=this.state.title?i.a.createElement("div",{key:Date.now(),className:"NavigationBarTitle"},this.state.title):null,t="NavigationBarTransition-Instant";this.state.fade?t="NavigationBarTransition-Fade":this.state.direction>0?t="NavigationBarTransition-Forwards":this.state.direction<0&&(t="NavigationBarTransition-Backwards");var a="NavigationBarTransition-Instant"===t?50:500;return i.a.createElement(Le.a,{transitionName:t,transitionEnterTimeout:a,transitionLeaveTimeout:a},e)}},{key:"renderRightButton",value:function(){var e="NavigationBarTransition-Instant";(this.state.fade||this.state.direction)&&(e="NavigationBarTransition-Fade");var t="NavigationBarTransition-Instant"===e?50:500,a=this.state.rightIcon||this.state.rightLabel?i.a.createElement(Ye,{key:Date.now(),onTap:this.state.rightAction,className:"NavigationBarRightButton",disabled:this.state.rightButtonDisabled,component:"button"},this.renderRightLabel(),this.renderRightIcon()):null;return i.a.createElement(Le.a,{transitionName:e,transitionEnterTimeout:t,transitionLeaveTimeout:t},a)}},{key:"renderRightIcon",value:function(){if(!this.state.rightIcon)return null;var e=Ce()("NavigationBarRightIcon",this.state.rightIcon);return i.a.createElement("div",{className:e})}},{key:"renderRightLabel",value:function(){return this.state.rightLabel?i.a.createElement("div",{key:Date.now(),className:"NavigationBarRightLabel"},this.state.rightLabel):null}},{key:"render",value:function(){return i.a.createElement("div",{className:Ce()("NavigationBar",this.props.className)},this.renderLeftButton(),this.renderTitle(),this.renderRightButton())}}]),t}(n.Component);He.contextTypes={app:ge.a.object};var Qe=He,Je=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="Alertbar",a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){var e=Ce()("Alertbar","Alertbar--"+this.props.type,{"Alertbar--animated":this.props.animated,"Alertbar--pulse":this.props.pulse},this.props.className),t=this.props.pulse?i.a.createElement("div",{className:"Alertbar__inner"},this.props.children):this.props.children,a=this.props.visible?i.a.createElement("div",{className:e},t):null;return this.props.animated?i.a.createElement(Le.a,{transitionName:"Alertbar",transitionEnterTimeout:300,transitionLeaveTimeout:300,component:"div"},a):i.a.createElement("div",{className:e},t)}}]),t}(n.Component);Je.defaultProps={type:"default"};var Ke=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="Button",a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){var e=Ce()("Button","Button--"+this.props.type,this.props.className),t=ye()(this.props,"type");return i.a.createElement(je,Object.assign({},t,{className:e,component:"button"}))}}]),t}(n.Component);Ke.defaultProps={type:"default"};var Xe=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="ButtonGroup",a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){var e=Ce()("ButtonGroup",this.props.className),t=ye()(this.props,"className");return i.a.createElement("div",Object.assign({className:e},t))}}]),t}(n.Component),$e={weekdaysMin:["S","M","T","W","T","F","S"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],formatYearMonth:function(e,t){return e+" - "+(t+1)}};function Ze(e){var t=e.date||new Date,a=t.getFullYear(),n=t.getMonth();return{mode:"day",year:a,month:n,day:t.getDate(),displayYear:a,displayMonth:n,displayYearRangeStart:10*Math.floor(a/10)}}var et=function(e){function t(e){var a;return Object(ce.a)(this,t),(a=Object(le.a)(this,Object(ue.a)(t).call(this,e))).displayName="DatePicker",a.state=Ze(e),a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(Ze(e))}},{key:"selectDay",value:function(e,t,a){this.setState({year:e,month:t,day:a}),this.props.onChange&&this.props.onChange(new Date(e,t,a))}},{key:"selectMonth",value:function(e){this.setState({displayMonth:e,mode:"day"})}},{key:"selectYear",value:function(e){this.setState({displayYear:e,displayYearRangeStart:10*Math.floor(e/10),mode:"month"})}},{key:"handlerTopBarTitleClick",value:function(){"day"===this.state.mode?this.setState({mode:"month"}):this.setState({mode:"day"})}},{key:"handleLeftArrowClick",value:function(){switch(this.state.mode){case"day":this.goPreviousMonth();break;case"month":case"year":this.goPreviousYearRange()}}},{key:"handleRightArrowClick",value:function(){switch(this.state.mode){case"day":this.goNextMonth();break;case"month":case"year":this.goNextYearRange()}}},{key:"goPreviousMonth",value:function(){0===this.state.displayMonth?this.setState({displayMonth:11,displayYear:this.state.displayYear-1}):this.setState({displayMonth:this.state.displayMonth-1})}},{key:"goNextMonth",value:function(){11===this.state.displayMonth?this.setState({displayMonth:0,displayYear:this.state.displayYear+1}):this.setState({displayMonth:this.state.displayMonth+1})}},{key:"goPreviousYear",value:function(){this.setState({displayYear:this.state.displayYear-1})}},{key:"goNextYear",value:function(){this.setState({displayYear:this.state.displayYear+1})}},{key:"goPreviousYearRange",value:function(){this.setState({displayYearRangeStart:this.state.displayYearRangeStart-10})}},{key:"goNextYearRange",value:function(){this.setState({displayYearRangeStart:this.state.displayYearRangeStart+10})}},{key:"renderWeeknames",value:function(){return $e.weekdaysMin.map(function(e,t){return i.a.createElement("span",{key:e+t,className:"week-name"},e)})}},{key:"renderDays",value:function(){var e,t,a,n=this.state.displayYear,o=this.state.displayMonth,r=new Date,s=new Date(n,o+1,0).getDate(),c=new Date(n,o,0).getDate(),l=new Date(n,o,1).getDay(),u=[];for(e=0;e<l;e++){var p=c-(l-1-e);a=n,-1===(t=o-1)&&(t=11,a-=1),u.push(i.a.createElement(je,{key:"p"+e,onTap:this.selectDay.bind(this,a,t,p),className:"day in-previous-month"},p))}var h=n===r.getFullYear()&&o===r.getMonth(),d=n===this.state.year&&o===this.state.month;for(e=1;e<=s;e++){var m=Ce()({day:!0,"is-today":h&&e===r.getDate(),"is-current":d&&e===this.state.day});u.push(i.a.createElement(je,{key:e,onTap:this.selectDay.bind(this,n,o,e),className:m},e))}var v=l+s;for(e=1;e<=42-v;e++)a=n,12===(t=o+1)&&(t=0,a+=1),u.push(i.a.createElement(je,{key:"n"+e,onTap:this.selectDay.bind(this,a,t,e),className:"day in-next-month"},e));return u}},{key:"renderMonths",value:function(){var e=this;return $e.months.map(function(t,a){return i.a.createElement(je,{key:t+a,className:Ce()("month-name",{"is-current":a===e.state.displayMonth}),onTap:e.selectMonth.bind(e,a)},t)})}},{key:"renderYears",value:function(){for(var e=[],t=this.state.displayYearRangeStart-1;t<this.state.displayYearRangeStart+11;t++)e.push(i.a.createElement(je,{key:t,className:Ce()("year",{"is-current":t===this.state.displayYear}),onTap:this.selectYear.bind(this,t)},t));return e}},{key:"render",value:function(){var e="";switch(this.state.mode){case"day":e=$e.formatYearMonth(this.state.displayYear,this.state.displayMonth);break;case"month":e="".concat(this.state.displayYearRangeStart," - ").concat(this.state.displayYearRangeStart+9)}return i.a.createElement("div",{className:Ce()("date-picker","mode-"+this.state.mode)},i.a.createElement("div",{className:"top-bar"},i.a.createElement(je,{className:"left-arrow",onTap:this.handleLeftArrowClick.bind(this)}),i.a.createElement(je,{className:"right-arrow",onTap:this.handleRightArrowClick.bind(this)}),i.a.createElement(je,{className:"top-bar-title",onTap:this.handlerTopBarTitleClick.bind(this)},e)),"day"===this.state.mode&&[i.a.createElement("div",{key:"weeknames",className:"week-names-container"},this.renderWeeknames()),i.a.createElement("div",{key:"days",className:"days-container"},this.renderDays())],"month"===this.state.mode&&[i.a.createElement("div",{key:"years",className:"years-container"},this.renderYears()),i.a.createElement("div",{key:"months",className:"month-names-container"},this.renderMonths())])}}]),t}(n.Component);et.defaultProps={date:new Date};var tt=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="Popup",a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"renderBackdrop",value:function(){return this.props.visible?i.a.createElement("div",{className:"Popup-backdrop"}):null}},{key:"renderDialog",value:function(){if(!this.props.visible)return null;var e=Ce()("Popup-dialog",this.props.className);return i.a.createElement("div",{className:e},this.props.children)}},{key:"render",value:function(){return i.a.createElement("div",{className:"Popup"},i.a.createElement(Le.a,{transitionName:"Popup-dialog",transitionEnterTimeout:300,transitionLeaveTimeout:300,component:"div"},this.renderDialog()),i.a.createElement(Le.a,{transitionName:"Popup-background",transitionEnterTimeout:300,transitionLeaveTimeout:300,component:"div"},this.renderBackdrop()))}}]),t}(n.Component);tt.defaultProps={transition:"none"};var at=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="DatePickerPopup",a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){var e=Ce()("DatePicker",this.props.className),t=ye()(this.props,"className","visible");return i.a.createElement(tt,{className:e,visible:this.props.visible},i.a.createElement(et,t))}}]),t}(n.Component),nt=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="FieldControl",a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){var e=Ce()("FieldControl",this.props.className),t=ye()(this.props,"className");return i.a.createElement("div",Object.assign({className:e},t))}}]),t}(n.Component),it=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="FieldLabel",a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){var e=Ce()("FieldLabel",this.props.className),t=ye()(this.props,"className");return i.a.createElement("div",Object.assign({className:e},t))}}]),t}(n.Component),ot=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="Group",a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){var e=Ce()("Group",{"Group--has-gutter-top":this.props.hastopgutter},this.props.className),t=ye()(this.props,"className");return i.a.createElement("div",Object.assign({className:e},t))}}]),t}(n.Component),rt=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="GroupBody",a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){var e=Ce()("Group__body",this.props.className),t=ye()(this.props,"className");return i.a.createElement("div",Object.assign({className:e},t))}}]),t}(n.Component),st=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="GroupFooter",a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){var e=Ce()("Group__footer",this.props.className),t=ye()(this.props,"className");return i.a.createElement("div",Object.assign({className:e},t))}}]),t}(n.Component),ct=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="GroupHeader",a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){var e=Ce()("Group__header",this.props.className),t=ye()(this.props,"className");return i.a.createElement("div",Object.assign({className:e},t))}}]),t}(n.Component),lt=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="GroupInner",a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){var e=Ce()("Group__inner",this.props.className),t=ye()(this.props,"className");return i.a.createElement("div",Object.assign({className:e},t))}}]),t}(n.Component),ut=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="Item",a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){var e=Ce()("Item",{"Item--has-disclosure-arrow":this.props.showDisclosureArrow},this.props.className),t=ye()(this.props,"children","className","showDisclosureArrow");return t.className=e,i.a.createElement(this.props.component,t,this.props.children)}}]),t}(n.Component);ut.defaultProps={component:"div"};var pt=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="ItemContent",a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){var e=Ce()("Item__content",this.props.className),t=ye()(this.props,"className");return i.a.createElement("div",Object.assign({className:e},t))}}]),t}(n.Component),ht=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="ItemInner",a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){var e=Ce()("Item__inner",this.props.className);return i.a.createElement("div",Object.assign({className:e},this.props))}}]),t}(n.Component),dt=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="ItemMedia",a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){var e=Ce()({Item__media:!0,"Item__media--icon":this.props.icon,"Item__media--avatar":this.props.avatar||this.props.avatarInitials,"Item__media--thumbnail":this.props.thumbnail},this.props.className),t=this.props.icon?i.a.createElement("div",{className:"Item__media__icon "+this.props.icon}):null,a=this.props.avatar||this.props.avatarInitials?i.a.createElement("div",{className:"Item__media__avatar"},this.props.avatar?i.a.createElement("img",{src:this.props.avatar}):this.props.avatarInitials):null,n=this.props.thumbnail?i.a.createElement("div",{className:"Item__media__thumbnail"},i.a.createElement("img",{src:this.props.thumbnail})):null;return i.a.createElement("div",{className:e},t,a,n)}}]),t}(n.Component),mt=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="ItemNote",a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){var e=Ce()("Item__note","Item__note--"+this.props.type,this.props.className),t=this.props.label?i.a.createElement("div",{className:"Item__note__label"},this.props.label):null,a=this.props.icon?i.a.createElement("div",{className:"Item__note__icon "+this.props.icon}):null;return i.a.createElement("div",{className:e},t,a)}}]),t}(n.Component);mt.defaultProps={type:"default"};var vt=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="ItemSubTitle",a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){var e=Ce()("Item__subtitle",this.props.className),t=ye()(this.props,"className");return i.a.createElement("div",Object.assign({className:e},t))}}]),t}(n.Component),ft=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="ItemTitle",a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){var e=Ce()("Item__title",this.props.className),t=ye()(this.props,"className");return i.a.createElement("div",Object.assign({className:e},t))}}]),t}(n.Component),yt={email:!0,password:!0,search:!0,tel:!0,text:!0,url:!0},bt=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="LabelInput",a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"componentDidMount",value:function(){this.props.autoFocus&&this.moveCursorToEnd()}},{key:"moveCursorToEnd",value:function(){var e=this.refs.focusTarget.getDOMNode(),t=e.value.length;yt.hasOwnProperty(e.type)&&(e.focus(),e.setSelectionRange(t,t))}},{key:"render",value:function(){var e=ye()(this.props,"alignTop","children","first","readOnly"),t=this.props.readOnly?i.a.createElement("div",{className:"field u-selectable"},this.props.value):i.a.createElement("input",Object.assign({ref:"focusTarget",className:"field",type:"text"},e));return i.a.createElement(ut,{alignTop:this.props.alignTop,selectable:this.props.disabled,className:this.props.className,component:"label"},i.a.createElement(ht,null,i.a.createElement(je,{onTap:this.moveCursorToEnd,className:"FieldLabel"},this.props.label),i.a.createElement(nt,null,t,this.props.children)))}}]),t}(n.Component),gt=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="LabelSelect",a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"renderOptions",value:function(){return this.props.options.map(function(e){return i.a.createElement("option",{key:"option-"+e.value,value:e.value},e.label)})}},{key:"render",value:function(){return i.a.createElement(ut,{className:this.props.className,component:"label"},i.a.createElement(ht,null,i.a.createElement(it,null,this.props.label),i.a.createElement(nt,null,i.a.createElement("select",{disabled:this.props.disabled,value:this.props.value,onChange:this.props.onChange,className:"select-field"},this.renderOptions()),i.a.createElement("div",{className:"select-field-indicator"},i.a.createElement("div",{className:"select-field-indicator-arrow"})))))}}]),t}(n.Component);gt.defaultProps={className:""};var wt=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="LabelTextarea",a.defaultProps={rows:3},a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){var e=Ce()(this.props.className,"list-item","field-item","align-top",{"is-first":this.props.first,"u-selectable":this.props.disabled}),t=ye()(this.props,"children","className","disabled","first","label","readOnly"),a=this.props.readOnly?i.a.createElement("div",{className:"field u-selectable"},this.props.value):i.a.createElement("textarea",Object.assign({},t,{className:"field"}));return i.a.createElement("div",{className:e},i.a.createElement("label",{className:"item-inner"},i.a.createElement("div",{className:"field-label"},this.props.label),i.a.createElement("div",{className:"field-control"},a,this.props.children)))}}]),t}(n.Component),_t=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="LabelValue",a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){return i.a.createElement(ut,{alignTop:this.props.alignTop,className:this.props.className,component:"label"},i.a.createElement(ht,null,i.a.createElement("div",{className:"FieldLabel"},this.props.label),i.a.createElement(nt,null,i.a.createElement("div",{className:Ce()("field",this.props.value?"u-selectable":"field-placeholder")},this.props.value||this.props.placeholder))))}}]),t}(n.Component),Et=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="ListHeader",a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){var e=Ce()("list-header",{sticky:this.props.sticky},this.props.className),t=ye()(this.props,"sticky");return i.a.createElement("div",Object.assign({className:e},t))}}]),t}(n.Component),Ot=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="PopupIcon",a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){var e=Ce()("PopupIcon",{"is-spinning":this.props.spinning},this.props.name,this.props.type);return i.a.createElement("div",{className:e})}}]),t}(n.Component),jt=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="RadioList",a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"onChange",value:function(e){this.props.onChange(e)}},{key:"render",value:function(){var e=this,t=this.props.options.map(function(t,a){var n=Ce()("item-icon primary",t.icon),o=t.value===e.props.value?i.a.createElement(mt,{type:"primary",icon:"ion-checkmark"}):null,r=t.icon?i.a.createElement("div",{className:"item-media"},i.a.createElement("span",{className:n})):null;function s(){e.onChange(t.value)}return i.a.createElement(je,{key:"option-"+a,onTap:s},i.a.createElement(ut,{key:"option-"+a,onTap:s},r,i.a.createElement(ht,null,i.a.createElement(ft,null,t.label),o)))});return i.a.createElement("div",null,t)}}]),t}(n.Component),kt=function(e){function t(e){var a;return Object(ce.a)(this,t),(a=Object(le.a)(this,Object(ue.a)(t).call(this,e))).displayName="SearchField",a.state={isFocused:!1},a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"handleClear",value:function(){this.refs.input.focus(),this.props.onClear()}},{key:"handleCancel",value:function(){this.refs.input.blur(),this.props.onCancel()}},{key:"handleChange",value:function(e){this.props.onChange(e.target.value)}},{key:"handleBlur",value:function(e){this.setState({isFocused:!1})}},{key:"handleFocus",value:function(e){this.setState({isFocused:!0})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.refs.input;t.blur(),this.props.onSubmit(t.value)}},{key:"renderClear",value:function(){if(this.props.hideOnBlur){if(!this.props.value.length||!this.state.isFocused)return}else if(!this.props.value.length)return;return i.a.createElement(je,{className:"SearchField__icon SearchField__icon--clear",onTap:this.handleClear.bind(this)})}},{key:"renderCancel",value:function(){var e;e=this.props.hideOnBlur?this.state.isFocused:this.state.isFocused||this.props.value;var t=Ce()("SearchField__cancel",{"is-visible":e});return i.a.createElement(je,{className:t,onTap:this.handleCancel.bind(this)},this.props.cancelText)}},{key:"render",value:function(){var e=Ce()("SearchField","SearchField--"+this.props.type,{"is-focused":this.state.isFocused,"has-value":this.props.value},this.props.className);return i.a.createElement("form",{onSubmit:this.handleSubmit.bind(this),className:e},i.a.createElement("label",{className:"SearchField__field"},i.a.createElement("div",{className:"SearchField__placeholder"},i.a.createElement("span",{className:"SearchField__icon SearchField__icon--search"}),this.props.value.length?null:this.props.placeholder),i.a.createElement("input",{type:"search",ref:"input",value:this.props.value,onChange:this.handleChange.bind(this),onFocus:this.handleFocus.bind(this),onBlur:this.handleBlur.bind(this),className:"SearchField__input"}),this.renderClear()),this.renderCancel())}}]),t}(n.Component);kt.defaultProps={type:"default",value:"",cancelText:"Cancel",hideOnBlur:!1};var Nt=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="SegmentedControl",a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"onChange",value:function(e){this.props.onChange(e)}},{key:"render",value:function(){var e=Ce()("SegmentedControl","SegmentedControl--"+this.props.type,{"SegmentedControl--inline":this.props.isInline,"SegmentedControl--has-gutter":this.props.hasGutter,"SegmentedControl--equal-widths":this.props.equalWidthSegments},this.props.className),t=this,a=this.props.options.map(function(e){var a=Ce()("SegmentedControl__item",{"is-selected":e.value===t.props.value});return i.a.createElement(je,{key:"option-"+e.value,onTap:function(){t.onChange(e.value)},className:a},e.label)});return i.a.createElement("div",{className:e},a)}}]),t}(n.Component);Nt.defaultProps={type:"primary"};var Tt=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="Switch",a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){var e=Ce()("Switch","Switch--"+this.props.type,{"is-disabled":this.props.disabled,"is-on":this.props.on});return i.a.createElement(je,{onTap:this.props.onTap,className:e,component:"label"},i.a.createElement("div",{className:"Switch__track"},i.a.createElement("div",{className:"Switch__handle"})))}}]),t}(n.Component);Tt.defaultProps={type:"default"};var Ct=function(e){function t(){return Object(ce.a)(this,t),Object(le.a)(this,Object(ue.a)(t).apply(this,arguments))}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){var e=Ce()("Tabs-Navigator",this.props.className),t=ye()(this.props,"className");return i.a.createElement("div",Object.assign({className:e},t))}}]),t}(n.Component),St=function(e){function t(){return Object(ce.a)(this,t),Object(le.a)(this,Object(ue.a)(t).apply(this,arguments))}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){var e=Ce()("Tabs-Tab",{"is-selected":this.props.selected}),t=ye()(this.props,"selected");return i.a.createElement(je,Object.assign({className:e},t))}}]),t}(n.Component),It={Label:function(e){function t(){return Object(ce.a)(this,t),Object(le.a)(this,Object(ue.a)(t).apply(this,arguments))}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){return i.a.createElement("div",Object.assign({className:"Tabs-Label"},this.props))}}]),t}(n.Component),Tab:St,Navigator:Ct},Dt=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="Input",a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){var e=ye()(this.props,"children","className");return i.a.createElement(ut,{selectable:this.props.disabled,className:this.props.className,component:"label"},i.a.createElement(ht,null,i.a.createElement(pt,{component:"label"},i.a.createElement("textarea",Object.assign({className:"field",rows:3},e))),this.props.children))}}]),t}(n.Component),Mt={email:!0,password:!0,search:!0,tel:!0,text:!0,url:!0},At=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).displayName="Input",a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"componentDidMount",value:function(){this.props.autoFocus&&this.moveCursorToEnd()}},{key:"moveCursorToEnd",value:function(){var e=this.refs.focusTarget.getDOMNode(),t=e.value.length;Mt.hasOwnProperty(e.type)&&(e.focus(),e.setSelectionRange(t,t))}},{key:"render",value:function(){var e=ye()(this.props,"children","className");return i.a.createElement(ut,{className:this.props.className,selectable:this.props.disabled,component:"label"},i.a.createElement(ht,null,i.a.createElement(pt,{component:"label"},i.a.createElement("input",Object.assign({ref:"focusTarget",className:"field",type:"text"},e))),this.props.children))}}]),t}(n.Component),Pt=Ne,xt={NavigationBar:Qe,Group:ot,GroupBody:rt,GroupFooter:st,GroupHeader:ct,GroupInner:lt,Item:ut,ItemInner:ht,ItemContent:pt,ItemMedia:dt,ItemNote:mt,ItemTitle:ft,ItemSubTitle:vt,Tabs:It,Alertbar:Je,Button:Ke,ButtonGroup:Xe,DatePicker:et,DatePickerPopup:at,FieldControl:nt,FieldLabel:it,LabelInput:bt,LabelSelect:gt,LabelTextarea:wt,LabelValue:_t,ListHeader:Et,Popup:tt,PopupIcon:Ot,RadioList:jt,Textarea:Dt,SearchField:kt,SegmentedControl:Nt,Switch:Tt,Input:At},Lt=(ve.a,Ge),Bt=Ve,Rt=a(51),Ft=a(22);a(65);function Gt(){return i.a.createElement("div",{className:"icons icons_ss",alt:""})}function Vt(){return i.a.createElement("div",{className:"icons icons_ovpn",alt:""})}a(152);var Ut=a(195);function Yt(){return i.a.createElement("div",{className:"empty_record",style:{height:"70vh",display:"flex",alignItems:"center",justifyContent:"center"}},i.a.createElement(Ut.a,{style:{color:"#d8d8d8"},size:"5em"}))}a(385);var zt=function(){return i.a.createElement("div",{className:"loading-wrap",style:{justifyContent:"center",alignItems:"center",height:"100vh",display:"flex"}},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",style:{width:50,height:50,transformOrigin:"25px 25px 25px"}},i.a.createElement("path",{fill:"none",strokeWidth:"5",strokeLinecap:"square",d:"M25,2.5A22.5,22.5 0 1 1 2.5,25",strokeDasharray:"106.02875205865553",strokeDashoffset:"110.58577780439585",transform:"rotate(-180 25 25)"})))},qt=Ae.initScrollable({left:0,top:0});function Wt(e){return"STAGING"===e?i.a.createElement("span",{style:{color:"steelblue"}},"\u542f\u52a8\u4e2d"):"OK"===e?i.a.createElement("span",{style:{color:"green"}},"\u8fd0\u884c\u4e2d"):"TERMINATED"===e?i.a.createElement("span",{style:{color:"orange"}},"\u5df2\u505c\u6b62"):"-"}var Ht=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).state={visiblePort:!1,titlePort:null},a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"transitionTo",value:function(e,t){this.context.app.transitionTo(e,t)}},{key:"componentDidMount",value:function(){this.props.dispatch(O())}},{key:"componentWillUnmount",value:function(){E()}},{key:"onSelectCell",value:function(e){var t=this,a=e.id;"openvpn"===e.server_type?(this.onSelectCell1(e),this.props.dispatch(_(a,function(e){var a=e.body;t.props.dispatch({type:"instance/setState",payload:{row:a}})}))):this.onSelectCell1(e)}},{key:"onSelectCell1",value:function(e){var t=this,a=e.id,n=e.note,i=e.status,o=e.ip,r=e.port,s=[];"TERMINATED"===i&&(s=[{label:"\u542f\u52a8",onClick:function(){weui.confirm("\u786e\u5b9a\u8981\u542f\u52a8\u4e48",function(){var e,n;t.props.dispatch((e=a,n=function(){t.props.dispatch(O())},function(t){E();var a=weui.loading("\u542f\u52a8\u4e2d...",{showMask:!0});return u.a.post("/compute/instance/status/".concat(e,"/start"),null).then(function(e){var i=e.data;a.hide(),200===i.code?(t(_(i.body.id)),n&&n()):weui.toast("\u542f\u52a8\u5931\u8d25")}).catch(function(e){a.hide(),n&&n()})}))})}}]),"RUNNING"!==i&&"OK"!==i||(s=[{label:"\u505c\u6b62",onClick:function(){weui.confirm("\u786e\u5b9a\u8981\u505c\u6b62\u4e48",function(){var e,n;t.props.dispatch((e=a,n=function(){t.props.dispatch(O())},function(t){E();var a=weui.loading("\u505c\u6b62\u4e2d...",{showMask:!0});return u.a.post("/compute/instance/status/".concat(e,"/stop"),null).then(function(e){var t=e.data;a.hide(),200===t.code?n&&n():weui.toast("\u505c\u6b62\u5931\u8d25")}).catch(function(e){a.hide(),n&&n()})}))})}},{label:"\u91cd\u542f(\u66f4\u6362IP)",onClick:function(){var e="\u91cd\u542f\u5c06\u4f1a\u5220\u9664\u6b64\u7ebf\u8def,\u521b\u5efa\u4e00\u6761\u65b0\u7684\u7ebf\u8def";window.location.host==="".concat(o,":").concat(r)&&(e+=",\u5f53\u524d\u7f51\u5740\u6240\u5728\u7ebf\u8def\u8ddf\u9700\u8981\u91cd\u542f\u7684\u7ebf\u8def\u5728\u540c\u4e00\u4e2a\u670d\u52a1\u5668,\u91cd\u542f\u4e4b\u540e\u6b64\u7f51\u5740\u4e0d\u80fd\u518d\u8bbf\u95ee,\u56e0\u6b64,\u8bf7\u5173\u6ce8\u60a8\u7684\u90ae\u7bb1\u65b0\u83b7\u53d6\u8bbf\u95ee\u5730\u5740"),weui.confirm(e,function(){var e,n;t.props.dispatch((e=a,n=function(){t.props.dispatch(O())},function(t){E();var a=weui.loading("\u91cd\u542f\u4e2d...",{showMask:!0});return u.a.post("/compute/instance/status/".concat(e,"/restart"),null).then(function(e){var i=e.data;a.hide(),200===i.code?(t(_(i.body.id)),n&&n()):weui.toast("\u91cd\u542f\u5931\u8d25")}).catch(function(e){a.hide(),n&&n()})}))})}}]),s.unshift({label:"\u5907\u6ce8",onClick:function(){weui.prompt("\u8bf7\u8f93\u5165",function(e){var n,i,o,r;t.props.dispatch((n=a,i="note",o=e,r=function(){t.props.dispatch(O())},function(e){E();var t=weui.loading("\u4fdd\u5b58\u4e2d...",{showMask:!0});return u.a.put("/compute/instance/change/".concat(n),{value:{field:i,value:o}}).then(function(e){var a=e.data;t.hide(),200===a.code?r&&r():weui.toast("\u4fdd\u5b58\u5931\u8d25")}).catch(function(e){t.hide(),r&&r()})}))},function(){},{title:"\u5907\u6ce8",value:n||""})}}),o&&"cordova"!==ne()&&s.unshift({label:"\u6d4b\u901f",onClick:function(){te("http://ping.chinaz.com/"+o,"_blank")}}),s.unshift({label:"\u7ba1\u7406\u7aef\u53e3",onClick:function(){t.transitionTo("main:instance/detail",{query:{id:a},params:e,transition:"show-from-right"})}});var c=[{label:"\u5220\u9664\u6b64\u7ebf\u8def",onClick:function(){var e;e=window.location.host==="".concat(o,":").concat(r)?",\u5f53\u524d\u7f51\u5740\u6240\u5728\u7ebf\u8def\u8ddf\u9700\u8981\u5220\u9664\u7684\u7ebf\u8def\u5728\u540c\u4e00\u4e2a\u670d\u52a1\u5668,\u5220\u9664\u4e4b\u540e\u6b64\u7f51\u5740\u4e0d\u80fd\u518d\u8bbf\u95ee,\u56e0\u6b64,\u8bf7\u5173\u6ce8\u60a8\u7684\u90ae\u7bb1\u65b0\u83b7\u53d6\u8bbf\u95ee\u5730\u5740":"\u786e\u8ba4\u8981\u5220\u9664\u6b64\u7ebf\u8def?",weui.confirm(e,function(){t.props.dispatch(g(a,function(){t.props.dispatch(g(a,function(){t.props.dispatch(O())}))}))})}}];weui.actionSheet([].concat(Object(Rt.a)(s),c),[],{title:""})}},{key:"render",value:function(){var e=this,t=this.props,a=t.items;return t.firstLoading?i.a.createElement(zt,null):i.a.createElement(Ae,{className:"VipLines",ref:"scrollContainer",scrollable:qt},i.a.createElement("div",{style:{margin:"0 2px"}},a.length>0?a.map(function(t,a){var n=t.name,o=t.status,r=t.port_status,s=t.note,c=t.server_type,l=t.id,u=t.zone,p=n.split("-"),h=p[p.length-1],d=ee(u);return i.a.createElement(Ft.Cell,{key:l,onClick:e.onSelectCell.bind(e,t),access:!0},i.a.createElement(Ft.CellHeader,null,"TERMINATED"!==o&&"UP"!==r&&i.a.createElement("i",{className:"weui-loading"}),i.a.createElement("span",null,h," ",d)),i.a.createElement(Ft.CellBody,{style:{fontSize:12,marginLeft:12}},i.a.createElement("span",null,Wt(o))),i.a.createElement(Ft.CellFooter,null,i.a.createElement("span",{style:{fontSize:12,marginRight:12}},s),"openvpn"===c?i.a.createElement(Vt,null):i.a.createElement(Gt,null)))}):i.a.createElement(Yt,null)))}}]),t}(n.Component);Ht.navigationBar="main",Ht.getNavigation=function(e,t){return ie(),{title:window.globalObject.constant.y_deng.title,rightLabel:i.a.createElement("i",{style:{fontSize:24},className:"ion-ios-plus"}),rightAction:function(){window.weui.picker(window.globalObject.constant.zones,{className:"weui-custom",container:"body",title:"\u9009\u62e9\u533a\u57df",defaultValue:window.globalObject.constant.default_zone,onChange:function(e){},onConfirm:function(t){var a="".concat(t[0].value,"-").concat(t[1].value,"-").concat(t[2].value);e.dispatch(function(e,t){var a=e.zone,n=e.server_type;return function(e){var i=weui.loading("\u521b\u5efa\u4e2d...",{showMask:!0});return u.a.post("/compute/instance/".concat(a,"/").concat(n),null).then(function(a){var n=a.data,o=n.body,r=n.code,s=n.msg;i.hide(),200===r?(e({type:y+"/setState",payload:{item:o}}),e(_(o.id)),t&&t()):5001===r?weui.actionSheet([{label:"\u5145\u503c\u4e2d\u5fc3",onClick:function(){window.current_app.viewManagers.main.context.app.transitionTo("main:plan",{viewProps:{from_view:"main:home"},transition:"show-from-right"})}}],[],{title:s}):(i.hide(),weui.topTips(s),501===r&&setTimeout(function(){window.location.href="#plan",window.location.reload()},1e3))}).catch(function(e){i.hide(),t&&t()})}}({zone:a,server_type:"shadowsocks"},function(){e.dispatch(O())}))}})},leftArrow:!1,leftLabel:i.a.createElement("i",{style:{fontSize:24},className:"ion-android-menu"}),leftAction:function(){weui.drawer([{label:"<i style='font-size:16px' class='ion-cash' /></i> \u5145\u503c\u4e2d\u5fc3",onClick:function(){t.transitionTo("main:plan",{transition:"show-from-right"})}},{label:"<i style='font-size:16px' class='ion-ios-cart' /></i> \u6211\u7684\u8ba2\u5355",onClick:function(){t.transitionTo("main:orders",{transition:"show-from-right"})}},{label:"<i style='font-size:16px' class='ion-help-buoy' /></i> \u5e2e\u52a9\u4e2d\u5fc3",onClick:function(){t.transitionTo("main:helps",{transition:"show-from-right"})}},{label:"<i style='font-size:16px' class='ion-ios-person' /></i> \u6211",onClick:function(){t.transitionTo("main:account",{transition:"show-from-right"})}},{label:"<i style='font-size:16px' class='ion-log-out' /></i> \u9000\u51fa",onClick:function(){weui.confirm("\u786e\u5b9a\u8981\u9000\u51fa\u4e48?",function(){localStorage.removeItem("access_token"),u.a.defaults.headers.common.Authorization=null,e.dispatch({type:"app/setState",payload:{access_token:null}}),t.transitionTo("main:login",{transition:"show-from-right"})})}}])}}},Ht.contextTypes={app:ge.a.object};var Qt=Object(U.b)(function(e){var t=e.app,a=e.user,n=e.instance;return{selectedVipType:n.selectedVipType,items:n.items,firstLoading:n.firstLoading,instance:n.item,timestamp:t.timestamp,me:a.me,showVipLinesActionSheet:n.showVipLinesActionSheet}})(Ht),Jt=a(50),Kt=a(196),Xt=a.n(Kt),$t=ne(),Zt={servs:{},init:function(e){var t=e.host,a=e.port,n=e.method,i=e.password,o=e.name,r=e.accessKey,s=e.id;Zt.servs[s]={config:{host:t,port:a,method:n,password:i,name:o,accessKey:r,id:s},serv:null}},connect:function(e,t){var a=Zt.servs[e].config;Zt.servs[e].serv=new cordova.plugins.outline.Connection(a,e),Zt.servs[e].serv.onStatusChange(function(a){switch(a){case 0:console.log("CONNECTED"),t({id:e,status:"CONNECTED"});break;case 1:console.log("DISCONNECTED"),t({id:e,status:"DISCONNECTED"});break;case 2:console.log("RECONNECTING"),t({id:e,status:"RECONNECTING"});break;default:return t({id:e,status:"ERROR"}),void console.warn("Received unknown connection status "+a)}})},start:function(e,t,a){"cordova"===$t?(Zt.connect(e,a),Zt.servs[e].serv.start().catch(function(t){console.error(t.message),a({id:e,status:"ERROR",msg:t.message})})):ea(e,t,a)},stop:function(e,t,a){"cordova"===$t?Zt.servs[e].serv.stop().catch(function(t){console.error(t.message),a({id:e,status:"ERROR",msg:t.message})}):ta(e,function(){t({type:"shadowsocks/setState",payload:{current_connect_status:"DISCONNECTED"}}),a({status:"DISCONNECTED"})})},check:function(e,t){Zt.servs[e].serv.isRunning().then(function(a){if(!a)return console.log("DISCONNECTED"),void t({id:e,status:"DISCONNECTED"});Zt.servs[e].serv.isReachable().then(function(a){a?(console.log("CONNECTED"),t({id:e,status:"CONNECTED"})):(console.log("RECONNECTING"),t({id:e,status:"RECONNECTING"}))})}).catch(function(a){console.error("Failed to sync server connectivity state",a),t({id:e,status:"ERROR"})})}},ea=function(e,t,a){console.log("connect_yd_server: ".concat(e)),aa(e,function(n){window.localStorage.setItem("current_connect_id",e),t({type:"shadowsocks/setState",payload:{current_connect_status:"CONNECTED",current_connect_id:n[0]}}),a&&a({status:"CONNECTED"})},function(){a&&a({status:"ERROR"})})},ta=function(e,t,a){var n=window.globalObject.constant.y_deng.local_server;u.a.delete("http://".concat(n,"/shadowsocks?ss=")+encodeURIComponent(e),null).then(function(e){var n=e.data;console.log("yd_server_delete result: ".concat(JSON.stringify(n))),!0===n.ok?t&&t(n.body):a&&a(n)}).catch(function(e){console.log("yd_server_delete error: ".concat(e)),weui.toast("\u8fde\u63a5\u5931\u8d25"),a&&a(e)})},aa=function(e,t,a){var n=window.globalObject.constant.y_deng.local_server,i=Xt.a.stringify({ss:e});u.a.post("http://".concat(n,"/shadowsocks?clean=1"),i).then(function(e){var n=e.data;if(console.log("yd_server_post result: ".concat(JSON.stringify(n))),n.ok){var i=n.data;t&&t(i)}else a&&a(n)}).catch(function(e){console.error("yd_server_post error: ".concat(e)),weui.toast("\u8fde\u63a5\u5931\u8d25"),a&&a(e)})},na=function(e,t){var a=window.globalObject.constant.y_deng.local_server;u.a.get("http://".concat(a,"/shadowsocks"),{timeout:1e3}).then(function(t){var a=t.data;if(console.log("yd_server_get result: ".concat(JSON.stringify(a))),a.ok){window.globalObject.constant.y_deng.data=a.data;var n=a.data;e&&e(n)}}).catch(function(e){console.log("yd_server_get result: ".concat(e)),t&&t(e)})},ia=function(e,t,a){var n=e.ip,i=[];return"UP"===e.port_status&&i.unshift({label:"\u8fde\u63a5",onClick:function(){!function(e,t){var a=e.port,n=e.pwd,i=e.name,o=e.ip,r=(e.id,"ss://"+Object(Jt.base64encode)("".concat("aes-256-cfb",":").concat(n,"@").concat(o,":").concat(a))),s=i+"_"+a;if("cordova"===$t){Zt.init({host:o,port:a,method:"aes-256-cfb",password:n,name:i,accessKey:r,id:s}),t({type:"shadowsocks/setState",payload:{current_connect_status:null,current_connect_id:s}});var c=weui.loading("\u8fde\u63a5\u4e2d...");Zt.start(s,function(e){var a=e.status,n=e.msg;c.hide(),console.log(JSON.stringify({status:a,msg:n})),"ERROR"===a?weui.toast(n):t({type:"shadowsocks/setState",payload:{current_connect_status:a,current_connect_id:s}})})}else{var l="ss://".concat("aes-256-cfb",":").concat(n,"@").concat(o,":").concat(a);ea(l,t)}}(e,a)}}),i.push({label:"\u6d4b\u901f",onClick:function(){te("http://ping.chinaz.com/"+n,"_blank")}}),"cordova"!==$t&&i.push({label:"\u4e0b\u8f7d\u5ba2\u6237\u7aef",onClick:function(){var e=window.globalObject.constant.download_help_id;window.current_app.viewManagers.main.context.app.transitionTo("main:help",{query:{id:e},transition:"show-from-right"})}}),weui.actionSheet([].concat(i,Object(Rt.a)(t)),[],{title:""})},oa=Ae.initScrollable({left:0,top:0}),ra=a(40),sa=function(e){function t(){return Object(ce.a)(this,t),Object(le.a)(this,Object(ue.a)(t).apply(this,arguments))}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.instance,n=t.current_connect_id,o=t.service,r=o.port,s=a.ip;return i.a.createElement(Pt,{onTap:function(){return e.props.onSelectedRow(o,a)}},i.a.createElement(xt.Item,{showDisclosureArrow:!0},i.a.createElement(xt.ItemInner,null,i.a.createElement(xt.ItemTitle,null,s+":"+r,n&&n.split("@")[1]==="".concat(s,":").concat(r)&&i.a.createElement("i",{style:{color:"green"},className:"ml8 ion-checkmark"})))))}}]),t}(n.Component),ca=null,la=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).state={port:"",pwd:"",is_public:!1,name:""},a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"showQrCode",value:function(e){var t=e.pwd,a=e.ip,n=e.port,i="ss://"+Object(Jt.base64encode)("aes-256-cfb:".concat(t,"@").concat(a,":").concat(n));ra.toDataURL(i,function(e,i){weui.alert("<div style='flex-direction:column;margin-bottom:16px;display: flex;justify-content: center;align-items: center'>"+"<h4 style='margin-bottom: 8px'>".concat(a," : ").concat(n,"</h4>")+"<h4 style='margin-bottom: 8px'>\u5bc6\u7801: ".concat(t,"</h4>")+"<h4 style='margin-bottom: 8px'>\u7b97\u6cd5: aes-256-cfb</h4>"+"<img style='height: 180px;width: 180px' src='".concat(i,"' />")+"</div>")})}},{key:"onRemove",value:function(e,t,a){var n=this;weui.confirm("\u786e\u5b9a\u8981\u5220\u9664\u4e48?",function(){var i=[];e.map(function(e){return e.port!==t&&i.push(e),e}),a.services=i;var o=weui.loading("\u4fdd\u5b58\u4e2d...");n.props.dispatch(w(a,function(){o.hide(),n.props.dispatch(O()),n.props.dispatch({type:"instance/setState",payload:{item:a}})}))})}},{key:"onSelectedRow",value:function(e,t){var a=this,n=e.port,i=e.flag,o=e.pwd,r=t.services,s=t.server_type,l=[];if(t.ip&&"shadowsocks"===s){var u=[];return 1!==i&&u.push({label:"\u5220\u9664",onClick:function(){a.onRemove(r,n,t)}}),ia(Object(c.a)({},t,{port:n,pwd:o}),u,this.props.dispatch)}1!==i&&l.push({label:"\u5220\u9664",onClick:function(){a.onRemove(r,n,t)}}),weui.actionSheet(l,[{label:"\u53d6\u6d88",onClick:function(){console.log("\u53d6\u6d88")}}],{title:"",className:"custom-classname",onClose:function(){}})}},{key:"onChangeInput",value:function(e,t){var a=t.target,n={};n[e]="is_public"===e?a.checked:a.value,this.setState(Object(c.a)({},n))}},{key:"componentDidMount",value:function(){var e=this,t=window.urlQuery;if(t&&t.id){var a=weui.loading("\u52a0\u8f7d\u4e2d...");this.props.dispatch(_(t.id,function(t){e.props.dispatch({type:"instance/setState",payload:{item:t.body}}),a.hide()}))}else window.location.href="#";na(function(t){e.props.dispatch({type:"shadowsocks/setState",payload:{current_connect_id:t[0]}})},function(){})}},{key:"render",value:function(){var e=this,t=this.props,a=t.instance,n=t.services;return ca=a,a?i.a.createElement(Ae,{className:"InstanceView",ref:"scrollContainer",scrollable:oa},i.a.createElement(xt.Group,null,i.a.createElement(xt.GroupHeader,null),i.a.createElement(xt.GroupBody,null,i.a.createElement(xt.Item,null,i.a.createElement(xt.ItemInner,null,i.a.createElement(xt.ItemTitle,null,"\u533a\u57df"),i.a.createElement(xt.ItemSubTitle,null,ee(a.zone)))),i.a.createElement(xt.Item,null,i.a.createElement(xt.ItemInner,null,i.a.createElement(xt.ItemTitle,null,"\u72b6\u6001"),i.a.createElement(xt.ItemSubTitle,null,Wt(a.status),"TERMINATED"!==a.status&&"UP"!==a.port_status&&i.a.createElement("i",{className:"ml8 weui-loading"})))),i.a.createElement(xt.Item,null,i.a.createElement(xt.ItemInner,null,i.a.createElement(xt.ItemTitle,null,"\u7c7b\u578b"),i.a.createElement(xt.ItemSubTitle,null,i.a.createElement("span",{className:"user_select_text"},a.server_type)))),a.ip&&a.ip.length>0&&i.a.createElement(xt.Item,null,i.a.createElement(xt.ItemInner,null,i.a.createElement(xt.ItemTitle,null,"IP"),i.a.createElement(xt.ItemSubTitle,null,i.a.createElement("span",{className:"user_select_text"},a.ip))))),"openvpn"===a.server_type&&a.ovpn_config&&"UP"===a.port_status&&a.ovpn_config.length>0&&i.a.createElement(xt.Button,{style:{marginTop:24},onTap:function(){!function(e,t){var a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}(a.name+".ovpn",a.ovpn_config)}},"\u4e0b\u8f7dOVPN\u6587\u4ef6")),a.ip&&"shadowsocks"===a.server_type&&i.a.createElement(xt.Group,null,i.a.createElement(xt.GroupHeader,null),i.a.createElement(xt.GroupBody,null,[{port:a.port,pwd:a.pwd,flag:1}].concat(Object(Rt.a)(n)).map(function(t,n){return i.a.createElement(sa,{key:n,current_connect_id:e.props.current_connect_id,onSelectedRow:e.onSelectedRow.bind(e),service:t,instance:a})})))):null}}]),t}(n.Component);la.navigationBar="main",la.getNavigation=function(e,t){return ie("\u7ba1\u7406\u7aef\u53e3"),{title:"\u7ba1\u7406\u7aef\u53e3",rightLabel:i.a.createElement("i",{style:{fontSize:24},className:"ion-ios-plus"}),rightAction:function(){"openvpn"!==ca.server_type&&weui.confirm("\u786e\u5b9a\u8981\u65b0\u52a0\u4e00\u4e2a\u7aef\u53e3?",function(){ca.services=function(e,t){var a=9e3;e.map(function(e){return e.port>a&&(a=e.port),e});var n={port:a+1===t?t+1:a+1,is_public:!1,pwd:H(!1,6).toLowerCase()};return e.push(n),e.map(function(e){var t=e.is_public;return Object(c.a)({is_public:!!t},e)})}(ca.services,ca.port),e.dispatch(w(ca,function(t){var a=t.body;e.dispatch({type:"instance/setState",payload:{item:a}})}))})},leftArrow:!0,leftLabel:"",leftAction:function(){t.transitionTo("main:home",{transition:"reveal-from-right"})}}};var ua=Object(U.b)(function(e){var t=e.instance,a=e.route,n=e.shadowsocks;return{instance:t.item,services:t.item?t.item.services:[],page:a.page,showAddService:t.showAddService,current_connect_id:n.current_connect_id}})(la),pa=(a(158),a(59)),ha=a(197),da=a.n(ha),ma=(a(609),function(e){function t(e){var a;return Object(ce.a)(this,t),(a=Object(le.a)(this,Object(ue.a)(t).call(this,e))).setRef=a.setRef.bind(Object(pa.a)(Object(pa.a)(a))),a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"setRef",value:function(e){this.codeEl=e}},{key:"componentDidMount",value:function(){this.highlightCode()}},{key:"componentDidUpdate",value:function(){this.highlightCode()}},{key:"highlightCode",value:function(){da.a.highlightBlock(this.codeEl)}},{key:"render",value:function(){return i.a.createElement("pre",null,i.a.createElement("code",{ref:this.setRef,className:"language-".concat(this.props.language)},this.props.value))}}]),t}(i.a.PureComponent));ma.defaultProps={language:""};var va,fa,ya,ba,ga=ma,wa=a(198),_a=a.n(wa),Ea=a(199),Oa=a.n(Ea),ja=Ae.initScrollable({left:0,top:0}),ka=Object(U.b)(function(e){var t=e.content.item;return t&&t.title?{title:t.title}:{title:""}})(function(e){var t=e.title;return ie(t),i.a.createElement("span",null,t)}),Na=Object(U.b)(function(e){return{item:e[I].item,loadingDetail:e[I].loadingDetail}})((fa=va=function(e){function t(){return Object(ce.a)(this,t),Object(le.a)(this,Object(ue.a)(t).apply(this,arguments))}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"componentDidMount",value:function(){this.setState({qr_code_data_url:null});var e=window.urlQuery;if(e&&e.id){var t=weui.loading("\u52a0\u8f7d\u4e2d...");this.props.dispatch(M({id:e.id},function(e){t.hide()}))}if(e&&e.slug){var a=weui.loading("\u52a0\u8f7d\u4e2d...");this.props.dispatch(M({slug:e.slug},function(e){a.hide()}))}}},{key:"render",value:function(){if(this.props.loadingDetail||!this.props.item)return null;var e=this.props.item;return i.a.createElement(Ae,{fill:!0,scrollable:ja,className:"Content"},i.a.createElement("article",{className:"weui-article"},i.a.createElement(Oa.a,{className:"markdown-main",source:e.data,skipHtml:!1,escapeHtml:!1,linkTarget:"_blank",renderers:{code:ga},plugins:[_a.a]})))}}]),t}(n.Component),va.navigationBar="main",va.getNavigation=function(e,t){return{title:i.a.createElement(ka,null),leftArrow:!0,leftLabel:"",leftAction:function(){t.transitionTo("main:helps",{transition:"reveal-from-right"})}}},fa)),Ta=Ae.initScrollable({left:0,top:0}),Ca=Object(U.b)(function(e){return{items:e[I].items,firstLoading:e[I].firstLoading}})((ba=ya=function(e){function t(){return Object(ce.a)(this,t),Object(le.a)(this,Object(ue.a)(t).apply(this,arguments))}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"componentDidMount",value:function(){var e;this.props.dispatch(function(t){return u.a.get("/contents").then(function(a){var n=a.data;e&&e(n),t({type:I+"/setState",payload:{items:n.body.rows,firstLoading:!1}})}).catch(function(a){e&&e({error:a}),t({type:I+"/setState",payload:{firstLoading:!1}})})})}},{key:"transitionTo",value:function(e,t){this.context.app.transitionTo(e,t)}},{key:"onSelectCell",value:function(e){var t=e.id,a=e.slug,n=e.title,i=a?{slug:a}:{id:t};this.transitionTo("main:help",{query:i,viewProps:{title:n},transition:"show-from-right"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.items;return t.firstLoading?i.a.createElement(zt,null):i.a.createElement(Ae,{className:"Contents",ref:"scrollContainer",scrollable:Ta},i.a.createElement("div",{style:{margin:"0 2px"}},a.length>0?a.map(function(t,a){return i.a.createElement(Ft.Cell,{key:a,onClick:e.onSelectCell.bind(e,t),access:!0},i.a.createElement(Ft.CellHeader,null,t.title),i.a.createElement(Ft.CellBody,null),i.a.createElement(Ft.CellFooter,null))}):i.a.createElement(Yt,null)))}}]),t}(n.Component),ya.navigationBar="main",ya.getNavigation=function(e,t){return ie("\u5e2e\u52a9\u4e2d\u5fc3"),{title:"\u5e2e\u52a9\u4e2d\u5fc3",leftArrow:!0,leftLabel:"",leftAction:function(){t.transitionTo("main:home",{transition:"reveal-from-right"})}}},ya.contextTypes={app:ge.a.object},ba)),Sa=(a(103),a(107)),Ia=function(e){var t=e.tips,a=e.unit,n=e.payment_type,o=e.btnPaymentDisabled,r=e.onPayBtnClicked,s=e.selected_payment_type,c=e.amount,l=e.title,u=e.icon,p=e.onClick;return i.a.createElement("div",{className:"payment_type"},i.a.createElement("div",{onClick:p,className:"header "+(n.length>0&&n===s&&"bottom_line")},n.length>0&&n===s?i.a.createElement(Sa.a,null):i.a.createElement(Sa.b,null),i.a.createElement("b",{className:"title"},l)," ",u),n.length>0&&n===s&&i.a.createElement("div",{className:"body slideIn"},i.a.createElement("div",null,"\u70b9\u51fb\u4e0b\u9762\u6309\u94ae\u5b8c\u6210\u652f\u4ed8,"),i.a.createElement("div",{style:{marginTop:16,marginBottom:16}},i.a.createElement("b",null,"\u652f\u4ed8\u91d1\u989d:")," ",i.a.createElement("b",{style:{marginLeft:8,color:"green",fontSize:28}},c)," ",a),i.a.createElement("div",null,t),i.a.createElement("div",{style:{marginTop:24,marginBottom:24}},i.a.createElement("button",{disabled:o,onClick:r,className:o?"weui-btn weui-btn_primary weui-btn_disabled":"weui-btn weui-btn_primary"},"\u652f\u4ed8"))))};function Da(){return i.a.createElement("div",{className:"icons icons_paypal",alt:""})}function Ma(){return i.a.createElement("div",{className:"icons icons_eth",alt:""})}var Aa=a(200),Pa=Ae.initScrollable({left:0,top:0}),xa=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).state={paymentEth:null,btnPaymentDisabled:!1,payment_type:"",eth:!1,selectedPlan:0},a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"onPayBtnClicked",value:function(e,t){var a=this,n=t.id;this.setState({btnPaymentDisabled:!0});var i=weui.loading("\u652f\u4ed8\u4e2d...",{showMask:!0}),o=window.location.href.replace("#plan","#orders");this.props.dispatch(function(e,t){var a=e.payment_type,n=e.flag,i=(e.redirect_url,e.plan_id);return function(e){return u.a.get("/payment/"+a+"?"+j.stringify({plan_id:i,flag:n})).then(function(e){var a=e.data;t(a)}).catch(function(e){t({error:e})})}}({plan_id:n,payment_type:e,flag:"plans_d"},function(e){var t=e.body,n=e.code,r=e.msg;if(200===n){var s=t.url;if("paypal"===a.state.payment_type)weui.confirm("\u652f\u4ed8\u6210\u529f?",function(){a.context.app.transitionTo("main:orders",{transition:"show-from-right"})},function(){a.setState({btnPaymentDisabled:!1})}),te(s+"&redirect_url="+encodeURIComponent(o),"_blank");"eth"===a.state.payment_type&&a.context.app.transitionTo("main:eth-confirm",{viewProps:{from_view:"main:plan"},query:{payment_id:t.payment_id},transition:"show-from-right"})}else weui.topTips(r),a.setState({btnPaymentDisabled:!1});i.hide()}))}},{key:"onTogglePayment",value:function(e){var t=this.state.payment_type===e?"":e;this.setState({payment_type:t})}},{key:"componentDidMount",value:function(){var e=window.globalObject.constant.payment;1===e.length&&this.setState({payment_type:e[0]})}},{key:"render",value:function(){var e=this,t=window.globalObject.constant,a=t.plans_d,n=t.payment,o=100*Math.floor(a.length/3)+26,r=a[this.state.selectedPlan];return i.a.createElement(Ae,{className:"Payment",ref:"scrollContainer",scrollable:Pa},i.a.createElement(xt.Group,{style:{marginTop:8}},i.a.createElement(xt.GroupHeader,null,"\u9009\u62e9\u5145\u503c\u9762\u989d"),i.a.createElement(xt.GroupBody,null,i.a.createElement(xt.GroupInner,{style:{height:o}},i.a.createElement("div",{className:"square"},i.a.createElement("ul",{className:"square-inner flex"},a.map(function(t,a){var n=t.amount,o=t.activity,s=t.id,c=t.usd;return o?i.a.createElement("li",{onClick:function(){e.context.app.transitionTo("main:task",{transition:"show-from-right"})},key:a},i.a.createElement("div",{className:"p0"},i.a.createElement("span",{className:"p1"},o))):i.a.createElement("li",{onClick:function(){e.setState({selectedPlan:a})},className:r.id===s?"active":"",key:a},i.a.createElement("div",{className:"check"},i.a.createElement(Aa.a,{size:"2em"})),i.a.createElement("div",{className:"p0"},i.a.createElement("span",{className:"p1"},n)," \u94f6\u5e01"),i.a.createElement("div",{className:"p2"},"\u552e\u4ef7  $ ",c))})))))),i.a.createElement(xt.Group,{style:{marginTop:8}},i.a.createElement(xt.GroupHeader,null,"\u9009\u62e9\u652f\u4ed8\u65b9\u5f0f"),i.a.createElement(xt.GroupBody,null,i.a.createElement(xt.GroupInner,null,i.a.createElement("div",{className:"payments"},n.includes("paypal")&&i.a.createElement(Ia,{btnPaymentDisabled:this.state.btnPaymentDisabled,onPayBtnClicked:this.onPayBtnClicked.bind(this,"paypal",r),payment_type:"paypal",unit:"$",tips:"\u9762\u989d "+r.amount+" \u94f6\u5e01",onClick:this.onTogglePayment.bind(this,"paypal"),title:"Paypal",selected_payment_type:this.state.payment_type,icon:i.a.createElement(Da,null),amount:r.usd}),n.includes("eth")&&i.a.createElement(Ia,{btnPaymentDisabled:this.state.btnPaymentDisabled,onPayBtnClicked:this.onPayBtnClicked.bind(this,"eth",r),payment_type:"eth",unit:"$",tips:"\u9762\u989d "+r.amount+" \u94f6\u5e01",onClick:this.onTogglePayment.bind(this,"eth"),title:"Eth",selected_payment_type:this.state.payment_type,icon:i.a.createElement(Ma,null),amount:r.usd}))))))}}]),t}(n.Component);xa.navigationBar="main",xa.getNavigation=function(e,t){return{title:"\u5145\u503c\u4e2d\u5fc3",leftArrow:!0,leftLabel:"",leftAction:function(){t.transitionTo(e.from_view?e.from_view:"main:home",{transition:"reveal-from-right"})}}},xa.contextTypes={app:ge.a.object};var La=Object(U.b)(function(e){return{page:e.route.page}})(xa),Ba=a(40),Ra=a.n(Ba),Fa=a(108),Ga=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).state={qr_code_data_url:null,left_time:0,loading:!0},a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"componentWillUnmount",value:function(){window.time_id&&clearInterval(window.time_id)}},{key:"componentDidMount",value:function(){var e=this,t=window.urlQuery.payment_id,a=weui.loading("\u52a0\u8f7d\u4e2d...");this.props.dispatch(function(e,t){var a=e.payment_id;return function(e){return u.a.get("/payment/eth/"+a).then(function(a){var n=a.data;e({type:"eth/setState",payload:{payment:n.body}}),t(n.body)}).catch(function(e){t({error:e})})}}({payment_id:t},function(t){e.prepare(t),e.setState({loading:!1}),a.hide()}))}},{key:"prepare",value:function(e){var t=this,a=e.address,n=e.created_at,i=e.payment_id;window.time_id&&clearInterval(window.time_id),window.time_id=setInterval(function(){if(console.log(window.time_id),t.state.left_time>=0){var e=900-parseInt(+new Date/1e3-n);t.setState({left_time:e}),document.querySelector("#min_left")&&(document.querySelector("#min_left").innerHTML=t.getLeftTimeCountDown(e))}else document.querySelector("#min_left")&&(document.querySelector("#min_left").innerHTML="\u8d85\u65f6"),clearInterval(window.time_id),t.timeout()},1e3),Ra.a.toDataURL(a,function(e,a){t.setState({qr_code_data_url:a})}),window.stop_checking=!1,this.getPaymentStatus(i)}},{key:"timeout",value:function(){var e=this;weui.alert("\u4ed8\u6b3e\u8d85\u65f6,\u8bf7\u91cd\u65b0\u4e0b\u5355",function(){e.context.app.transitionTo("main:plan",{transition:"show-from-right"})})}},{key:"getPaymentStatus",value:function(e){var t=this;window.stop_checking||this.props.dispatch(T({payment_type:"eth",payment_id:e},function(a){var n=a.body,i=a.code,o=a.error;if(200!==i||o)setTimeout(function(){t.getPaymentStatus(e)},2e3);else{var r=n.status;r&&"approved"!==r?setTimeout(function(){t.getPaymentStatus(e)},1e3):weui.alert("\u652f\u4ed8\u6210\u529f",function(){t.context.app.transitionTo("main:orders",{transition:"reveal-from-right"})})}}))}},{key:"onSelectQrCode",value:function(e){var t=e.address;weui.toast("\u81ea\u52a8\u590d\u5236\u6210\u529f"),setTimeout(function(){weui.alert("\u8bf7\u5c06ETH \u53d1\u9001\u5230: <span><b>".concat(t,"</b></span>"),function(){ae.copy(t)})},3400)}},{key:"getLeftTimeCountDown",value:function(e){var t=Math.floor(e%3600/60),a=Math.floor(e%60);return e>0?t+":"+a:"\u8d85\u65f6"}},{key:"showInfo",value:function(e){var t=e.amount_eth,a=e.amount_usd,n=e.exchange_price;weui.actionSheet([{label:"\u603b\u4ef7: ".concat(a," USD"),onClick:function(){}},{label:"\u6c47\u7387: ".concat(n," USD"),onClick:function(){}},{label:"\u5e94\u4ed8\u91d1\u989d: ".concat(t," ETH"),onClick:function(){}}],[{label:"\u53d6\u6d88",onClick:function(){}}],{title:'\u8bf7\u5728\u89c4\u5b9a\u65f6\u95f4\u5185\u4ed8\u6b3e <b id="min_left"></b>',className:"weui-custom",onClose:function(){}})}},{key:"render",value:function(){if(this.state.loading)return null;var e=this.props.paymentEth,t=e.amount_eth,a=this.state.qr_code_data_url;return i.a.createElement("div",{className:"eth_payment"},i.a.createElement("div",{className:"tips"},"\u626b\u63cf QR \u7801\u6216\u5c06\u4ed8\u6b3e\u8be6\u7ec6\u4fe1\u606f\u590d\u5236\u7c98\u8d34\u5230\u60a8\u7684\u94b1\u5305"),i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"header"},i.a.createElement("div",null,i.a.createElement(Fa.a,{onClick:this.onSelectQrCode.bind(this,e),size:"2em"})),i.a.createElement("div",{className:"title"},i.a.createElement("b",null," ",t," ETH")),i.a.createElement("div",null,i.a.createElement(Fa.b,{onClick:this.showInfo.bind(this,e),size:"2em"}))),i.a.createElement("div",{id:"qr-container"},a&&i.a.createElement("img",{onClick:this.onSelectQrCode.bind(this,e),src:a,alt:""}))))}}]),t}(n.Component);Ga.navigationBar="main",Ga.getNavigation=function(e,t){return{title:"Eth",leftArrow:!0,leftLabel:"",leftAction:function(){window.stop_checking=!0,t.transitionTo(e.from_view?e.from_view:"main:orders",{transition:"reveal-from-right"})}}},Ga.contextTypes={app:ge.a.object};var Va=Object(U.b)(function(e){return{paymentEth:e.eth.payment}})(Ga),Ua=Ae.initScrollable({left:0,top:0}),Ya=function(e){function t(){return Object(ce.a)(this,t),Object(le.a)(this,Object(ue.a)(t).apply(this,arguments))}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch(function(e){return u.a.get("/compute/lines").then(function(t){var a=t.data;e({type:C+"/setState",payload:{items:a.body.rows}}),window.__time_id_fetch_instance=setInterval(function(){},3e3)}).catch(function(e){})}),na(function(t){e.props.dispatch({type:"shadowsocks/setState",payload:{current_connect_id:t[0]}})})}},{key:"componentWillUnmount",value:function(){}},{key:"onSelectCell",value:function(e){ia(Object(c.a)({},e,{port_status:"UP",name:e.id}),[],this.props.dispatch)}},{key:"showQrCode",value:function(e){var t=e.server_type,a=e.pwd,n=e.ip,i=e.port;if("shadowsocks"===t){var o="ss://"+Object(Jt.base64encode)("aes-256-cfb:".concat(a,"@").concat(n,":").concat(i));console.log(o),Ra.a.toDataURL(o,function(e,t){weui.alert("<div style='flex-direction:column;margin-bottom:16px;display: flex;justify-content: center;align-items: center'>"+"<h4 style='margin-bottom: 8px'>".concat(n," : ").concat(i,"</h4>")+"<h4 style='margin-bottom: 8px'>\u5bc6\u7801: ".concat(a,"</h4>")+"<h4 style='margin-bottom: 8px'>\u7b97\u6cd5: aes-256-cfb</h4>"+"<img style='height: 180px;width: 180px' src='".concat(t,"' />")+"</div>")})}}},{key:"render",value:function(){var e=this,t=this.props,a=t.items,n=t.timestamp,o=t.current_connect_id;return i.a.createElement(Ae,{className:"FreeLines",ref:"scrollContainer",scrollable:Ua},i.a.createElement("div",{style:{margin:"0 2px"}},a.length>0&&a.map(function(t,a){var r=t.server_type,s=t.ip,c=t.port,l=ee(t.zone);return i.a.createElement(Ft.Cell,{key:a,t:n,onClick:e.onSelectCell.bind(e,t),access:!0},i.a.createElement(Ft.CellHeader,null,s,":",c,o&&o.split("@")[1]==="".concat(s,":").concat(c)&&i.a.createElement("i",{style:{color:"green"},className:"ml8 ion-checkmark"})),i.a.createElement(Ft.CellBody,null),i.a.createElement(Ft.CellFooter,null,i.a.createElement("span",{style:{fontSize:12,marginRight:12}},l),"openvpn"===r?i.a.createElement(Vt,null):i.a.createElement(Gt,null)))})))}}]),t}(n.Component);Ya.navigationBar="main",Ya.getNavigation=function(e,t){return{title:"\u5171\u4eab\u7ebf\u8def",leftArrow:!0,leftLabel:"",leftAction:function(){t.transitionTo("main:home",{transition:"reveal-from-right"})}}};var za=Object(U.b)(function(e){var t=e.app,a=e.shadowsocks;return{items:e.line.items,timestamp:t.timestamp,current_connect_id:a.current_connect_id}})(Ya),qa=(a(187),Ae.initScrollable({left:0,top:0})),Wa=function(e){function t(){return Object(ce.a)(this,t),Object(le.a)(this,Object(ue.a)(t).apply(this,arguments))}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"componentDidMount",value:function(){var e;this.props.dispatch(function(t){return u.a.get("/orders").then(function(a){var n=a.data;e&&e(n),t({type:m+"/setState",payload:{items:n.body.rows,firstLoading:!1}})}).catch(function(a){t({type:m+"/setState",payload:{firstLoading:!1}}),e&&e({error:a})})})}},{key:"transitionTo",value:function(e,t){this.context.app.transitionTo(e,t)}},{key:"onSelectCell",value:function(e){var t=e.id;this.transitionTo("main:order/detail",{query:{id:t},transition:"show-from-right"})}},{key:"getStatus",value:function(e){return"approved"===e?i.a.createElement("span",{style:{color:"green"}},"\u5df2\u652f\u4ed8"):"cancel"===e?i.a.createElement("span",{style:{color:"gray"}},"\u5df2\u53d6\u6d88"):"timeout"===e?i.a.createElement("span",{style:{color:"firebrick"}},"\u8d85\u65f6"):"created"===e?i.a.createElement("span",{style:{color:"dodgerblue"}},"\u652f\u4ed8\u4e2d"):"-"}},{key:"render",value:function(){var e=this,t=this.props,a=t.items;return t.firstLoading?i.a.createElement(zt,null):i.a.createElement(Ae,{className:"Order",ref:"scrollContainer",scrollable:qa},i.a.createElement("div",{style:{margin:"0 2px"}},a.length>0?a.map(function(t,a){return i.a.createElement(Ft.Cell,{key:a,onClick:e.onSelectCell.bind(e,t),access:!0},i.a.createElement(Ft.CellHeader,{style:{display:"block"}},i.a.createElement("p",null,t.desc),i.a.createElement("p",{style:{fontSize:10}},W(1e3*t.created_at)," ",t.pay_type)),i.a.createElement(Ft.CellBody,null),i.a.createElement(Ft.CellFooter,null,i.a.createElement("span",null,e.getStatus(t.status))))}):i.a.createElement(Yt,null)))}}]),t}(n.Component);Wa.navigationBar="main",Wa.getNavigation=function(e,t){return{title:"Orders",leftArrow:!0,leftLabel:"",leftAction:function(){t.transitionTo("main:home",{transition:"reveal-from-right"})}}},Wa.contextTypes={app:ge.a.object};var Ha=Object(U.b)(function(e){var t=e.order;return{items:t.items,showDetail:t.showDetail,order_no:t.order_no,firstLoading:t.firstLoading}})(Wa),Qa=Ae.initScrollable({left:0,top:0}),Ja=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).state={qr_code_data_url:null},a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({qr_code_data_url:null});var t=window.urlQuery;if(t&&t.id){var a=weui.loading("\u52a0\u8f7d\u4e2d...");this.props.dispatch(f(t.id,function(t){a.hide(),"eth"===t.pay_type&&(Ra.a.toDataURL(t.payments[0].address,function(t,a){e.setState({qr_code_data_url:a})}),window.stop_checking=!1,"created"===t.payments[0]&&e.getPaymentStatus(t.payments[0].id))}))}}},{key:"getPaymentStatus",value:function(e){var t=this;window.stop_checking||this.props.dispatch(T({payment_type:"eth",payment_id:e},function(a){var n=a.body,i=a.code,o=a.error;if(200!==i||o)setTimeout(function(){t.getPaymentStatus(e)},2e3);else{var r=n.status;r&&"approved"!==r?setTimeout(function(){t.getPaymentStatus(e)},1e3):weui.alert("\u652f\u4ed8\u6210\u529f",function(){t.props.dispatch(f(window.urlQuery.id))})}}))}},{key:"onSelectQrCode",value:function(e){weui.toast("\u81ea\u52a8\u590d\u5236\u6210\u529f"),setTimeout(function(){weui.alert("\u8bf7\u5c06ETH \u53d1\u9001\u5230: <span>".concat(e,"</span>"),function(){ae.copy(e)})},3400)}},{key:"render",value:function(){if(this.props.loadingDetail||!this.props.item)return null;var e=this.props.item;return i.a.createElement(Ae,{fill:!0,scrollable:Qa,className:"OrderDetail"},i.a.createElement("div",null,i.a.createElement("div",{className:"weui-form-preview"},i.a.createElement("div",{className:"weui-form-preview__hd"},i.a.createElement("div",{className:"weui-form-preview__item"},i.a.createElement("label",{className:"weui-form-preview__label"},"\u4ed8\u6b3e\u91d1\u989d"),i.a.createElement("em",{className:"weui-form-preview__value"},"$ ",e.amount))),i.a.createElement("div",{className:"weui-form-preview__bd"},i.a.createElement("div",{className:"weui-form-preview__item"},i.a.createElement("label",{className:"weui-form-preview__label"},"\u8ba2\u5355\u53f7"),i.a.createElement("span",{className:"weui-form-preview__value"},e.order_no)),i.a.createElement("div",{className:"weui-form-preview__item"},i.a.createElement("label",{className:"weui-form-preview__label"},"\u72b6\u6001"),i.a.createElement("span",{className:"weui-form-preview__value"},e.status)),i.a.createElement("div",{className:"weui-form-preview__item"},i.a.createElement("label",{className:"weui-form-preview__label"},"\u63cf\u8ff0"),i.a.createElement("span",{className:"weui-form-preview__value"},e.desc)),i.a.createElement("div",{className:"weui-form-preview__item"},i.a.createElement("label",{className:"weui-form-preview__label"},"\u4ed8\u6b3e\u65b9\u5f0f"),i.a.createElement("span",{className:"weui-form-preview__value"},e.pay_type)),i.a.createElement("div",{className:"weui-form-preview__item"},i.a.createElement("label",{className:"weui-form-preview__label"},"\u4ea4\u6613\u65f6\u95f4"),i.a.createElement("span",{className:"weui-form-preview__value"},W(1e3*e.created_at))),i.a.createElement("div",{className:"weui-form-preview__item"},i.a.createElement("label",{className:"weui-form-preview__label"},"\u66f4\u65b0\u65f6\u95f4"),i.a.createElement("span",{className:"weui-form-preview__value"},W(1e3*e.updated_at))))),"eth"===e.pay_type&&"created"===e.payments[0].status&&i.a.createElement("div",{className:"flex_justify_content_center flex_direction_column flex_align_items_center",style:{marginTop:16,height:260}},i.a.createElement("div",{style:{marginTop:16}},i.a.createElement("span",{style:{fontSize:14}},i.a.createElement("b",null,e.payments[0].address))),i.a.createElement("div",{style:{marginTop:16}},"\u4ed8\u6b3e ",i.a.createElement("span",{style:{fontSize:24}},i.a.createElement("b",null,e.payments[0].amount_eth))," eth"),i.a.createElement("div",{className:"mb16 text_align_center",style:{width:280,marginTop:16}},"\u626b\u63cf QR \u7801\u6216\u5c06\u4ed8\u6b3e\u8be6\u7ec6\u4fe1\u606f\u590d\u5236\u7c98\u8d34\u5230\u60a8\u7684\u94b1\u5305"),this.state.qr_code_data_url&&i.a.createElement("img",{onClick:this.onSelectQrCode.bind(this,e.payments[0].address),src:this.state.qr_code_data_url,alt:""}))))}}]),t}(n.Component);Ja.navigationBar="main",Ja.getNavigation=function(e,t){return{title:"Order",leftArrow:!0,leftLabel:"",leftAction:function(){window.stop_checking=!0,t.transitionTo("main:orders",{transition:"reveal-from-right"})}}};var Ka=Object(U.b)(function(e){var t=e.order;return{item:t.item,order_id:t.order_id,loadingDetail:t.loadingDetail}})(Ja),Xa=(a(745),function(e){function t(){return Object(ce.a)(this,t),Object(le.a)(this,Object(ue.a)(t).apply(this,arguments))}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(d())}},{key:"render",value:function(){var e=this.props.me;return e?i.a.createElement("div",{className:"Account"},i.a.createElement(xt.Group,null,i.a.createElement(xt.GroupBody,null,i.a.createElement(xt.Item,null,i.a.createElement(xt.ItemInner,null,i.a.createElement(xt.ItemTitle,null,"Email: "),i.a.createElement(xt.ItemSubTitle,{style:{marginRight:16}},e.email))))),i.a.createElement(xt.Group,null,i.a.createElement(xt.GroupHeader,null,"\u5e10\u6237\u91d1\u989d"),i.a.createElement(xt.GroupBody,null,i.a.createElement(Pt,{to:"main:plan",viewProps:{from_view:"main:account"},transition:"show-from-right"},i.a.createElement(xt.Item,{showDisclosureArrow:!0},i.a.createElement(xt.ItemInner,null,i.a.createElement(xt.ItemTitle,null,"\u94f6\u5e01: ",e.balance_silver.toFixed(2)),i.a.createElement(xt.ItemSubTitle,{style:{marginRight:16}},"\u5145\u503c"))))))):null}}]),t}(n.Component));Xa.navigationBar="main",Xa.getNavigation=function(e,t){return{title:"\u6211",leftArrow:!0,leftLabel:"",leftAction:function(){t.transitionTo("main:home",{transition:"reveal-from-right"})}}};var $a=Object(U.b)(function(e){return{me:e.user.me}})(Xa),Za=(a(746),a(201)),en=a.n(Za),tn=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(i)))).state={email:localStorage.getItem("login_email"),code:"",sendTxt:"\u83b7\u53d6\u9a8c\u8bc1\u7801",sendBtnDisabled:!1,agree:!0,pass:!1,selectedMode:"password",password:""},a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"onSendCaptcha",value:function(){var e=this;if(!K(this.state.email))return weui.topTips("\u8bf7\u8f93\u5165\u6b63\u786e\u7684Email\u5730\u5740");var t=weui.loading("\u83b7\u53d6\u4e2d...",{showMask:!0});u.a.post("/auth/email/captcha",{email:this.state.email}).then(function(a){var n=a.data,i=n.code,o=n.msg;t.hide(),200===i?(weui.toast("\u53d1\u9001\u6210\u529f"),e.setState({sendBtnDisabled:!0,sendTxt:"60"}),window.___t_id=setInterval(function(){var t=e.state.sendTxt;(t=parseInt(t)-1)<=0?(e.setState({sendTxt:"\u83b7\u53d6\u9a8c\u8bc1\u7801",sendBtnDisabled:!1}),clearInterval(window.___t_id)):e.setState({sendTxt:t})},1e3)):weui.topTips(o)}).catch(function(){return t.hide()})}},{key:"onChangeInput",value:function(e,t){var a=this,n=t.target,i={};i[e]=n.value,this.setState(Object(c.a)({},i),function(){a.onCheckInput()})}},{key:"onLoginWIthCaptcha",value:function(){var e=this;this.onCheckInput(),localStorage.setItem("login_email",this.state.email);var t=weui.loading("\u767b\u5f55\u4e2d...",{showMask:!0}),a=function(a){var n=a.data,i=n.code,o=n.body,r=n.msg;if(t.hide(),200===i){var s=o.access_token;X(s),e.props.dispatch({type:"app/setState",payload:{access_token:s}}),weui.alert(r,function(){e.context.app.transitionTo("main:home",{transition:"show-from-right"})})}else weui.topTips(r)};"password"===this.state.selectedMode?u.a.post("/auth/email/verify",{email:this.state.email,password:en()(this.state.password)}).then(a).catch(function(){return t.hide()}):u.a.post("/auth/email/captcha/verify",{email:this.state.email,code:this.state.code}).then(a).catch(function(){return t.hide()})}},{key:"onCheckInput",value:function(){var e=this.state,t=e.email,a=e.code,n=e.password,i=e.selectedMode,o=e.agree;"password"===i?o&&K(t)&&n.length>5?this.setState({pass:!0}):this.setState({pass:!1}):o&&K(t)&&4===a.length?this.setState({pass:!0}):this.setState({pass:!1})}},{key:"onChangeAgree",value:function(e){var t=this,a=e.target;this.setState({agree:a.checked},function(){t.onCheckInput()})}},{key:"handleModeChange",value:function(e){var t=e;this.state.selectedMode===e&&(t=null),this.setState({selectedMode:t})}},{key:"render",value:function(){var e=window.globalObject.constant.google_login_url;return i.a.createElement("div",{className:"Login"},i.a.createElement("div",{style:{margin:"0 48px"}},i.a.createElement(xt.Group,{hastopgutter:"true",style:{margin:"16px 0"}},i.a.createElement(xt.SegmentedControl,{value:this.state.selectedMode,onChange:this.handleModeChange.bind(this),hasGutter:!0,options:[{label:"\u5feb\u6377",value:"captcha"},{label:"\u5bc6\u7801",value:"password"}]}))),i.a.createElement("div",{style:{paddingTop:0,backgroundColor:"inherit"}},i.a.createElement("div",{className:"weui-form__control-area",style:{marginTop:16}},i.a.createElement("div",{className:"weui-cells__group weui-cells__group_form"},i.a.createElement("div",{className:"weui-cells weui-cells_form"},i.a.createElement("div",{className:"weui-cell weui-cell_active"},i.a.createElement("div",{className:"weui-cell__hd"},i.a.createElement("label",{className:"weui-label"},"Email")),i.a.createElement("div",{className:"weui-cell__bd"},i.a.createElement("input",{className:"weui-input",type:"text",onChange:this.onChangeInput.bind(this,"email"),placeholder:"\u8bf7\u8f93\u5165Email",value:this.state.email}))),"password"===this.state.selectedMode?i.a.createElement("div",{className:"weui-cell weui-cell_active weui-cell_vcode"},i.a.createElement("div",{className:"weui-cell__hd"},i.a.createElement("label",{className:"weui-label"},"\u5bc6\u7801")),i.a.createElement("div",{className:"weui-cell__bd"},i.a.createElement("input",{onChange:this.onChangeInput.bind(this,"password"),autoFocus:"",value:this.state.password,className:"weui-input",type:"password",pattern:"[\\w]*",placeholder:"\u8f93\u5165\u5bc6\u7801(\u81f3\u5c116\u4f4d)",minLength:"6"}))):i.a.createElement("div",{className:"weui-cell weui-cell_active weui-cell_vcode"},i.a.createElement("div",{className:"weui-cell__hd"},i.a.createElement("label",{className:"weui-label"},"\u9a8c\u8bc1\u7801")),i.a.createElement("div",{className:"weui-cell__bd"},i.a.createElement("input",{onChange:this.onChangeInput.bind(this,"code"),autoFocus:"",value:this.state.code,className:"weui-input",type:"number",pattern:"[0-9]*",placeholder:"\u8f93\u5165\u9a8c\u8bc1\u7801",maxLength:"6"})),i.a.createElement("div",{className:"weui-cell__ft"},i.a.createElement("button",{disabled:this.state.sendBtnDisabled,onClick:this.onSendCaptcha.bind(this),className:"weui-btn weui-btn_default weui-vcode-btn"},this.state.sendTxt)))))),i.a.createElement("div",{className:"weui-form__tips-area hide"},i.a.createElement("label",{id:"weuiAgree",htmlFor:"weuiAgreeCheckbox",className:"weui-agree"},i.a.createElement("input",{id:"weuiAgreeCheckbox",type:"checkbox",onChange:this.onChangeAgree.bind(this),className:"weui-agree__checkbox"}),i.a.createElement("span",{className:"weui-agree__text"},"\u9605\u8bfb\u5e76\u540c\u610f",i.a.createElement("button",{href:"#"},"\u300a\u76f8\u5173\u6761\u6b3e\u300b")))),i.a.createElement("div",{className:"weui-form__opr-area"},i.a.createElement("button",{disabled:!this.state.pass,onClick:this.onLoginWIthCaptcha.bind(this),className:this.state.pass?"weui-btn weui-btn_primary":"weui-btn weui-btn_primary weui-btn_disabled"},"\u786e\u5b9a")),"cordova"!==ne()&&e&&e.length>0&&i.a.createElement("div",{className:"oauth"},i.a.createElement("div",{className:"google",onClick:function(){return function(){var e=window.location.pathname,t=e.split("/"),a=e.substring(0,e.length-t[t.length-1].length),n=Q(window.location.href),i="".concat(n.protocol,"//").concat(n.host).concat(a);te(window.globalObject.constant.google_login_url+"?redirect_url="+encodeURIComponent(i),"_blank")}()}}))))}}]),t}(n.Component);tn.navigationBar="main",tn.getNavigation=function(e,t){return ie("\u767b\u5f55"),{title:"\u767b\u5f55",leftArrow:!0,leftLabel:"",leftAction:function(){t.transitionTo("main:home",{transition:"reveal-from-right"})}}},tn.contextTypes={app:ge.a.object};var an,nn,on=Object(U.b)(function(e){return{}})(tn),rn=(a(748),Object(U.b)(function(e){return{me:e.user.me}})((nn=an=function(e){function t(){return Object(ce.a)(this,t),Object(le.a)(this,Object(ue.a)(t).apply(this,arguments))}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=window.globalObject.constant.task_sign_amount_copper;return i.a.createElement("div",{className:""},i.a.createElement(xt.Group,{style:{marginTop:16}},i.a.createElement(xt.GroupBody,null,i.a.createElement(xt.Item,null,i.a.createElement(xt.ItemInner,null,i.a.createElement(xt.ItemTitle,null," ",e||2e3," \u94dc\u5e01 "),i.a.createElement(xt.ItemSubTitle,{style:{marginRight:16}},i.a.createElement("a",{className:" weui-btn weui-btn_mini weui-btn_default"},"\u7b7e\u5230")))))))}}]),t}(n.Component),an.navigationBar="main",an.getNavigation=function(e,t){return{title:"\u4efb\u52a1\u4e2d\u5fc3",leftArrow:!0,leftLabel:"",leftAction:function(){t.transitionTo(e.from_view?e.from_view:"main:home",{transition:"reveal-from-right"})}}},nn))),sn=function(){var e=window.page_id;return i.a.createElement(Ae,null,i.a.createElement(xt.NavigationBar,{name:"main"}),i.a.createElement(Lt,{name:"main",defaultView:e},i.a.createElement(Bt,{name:"home",component:Qt}),i.a.createElement(Bt,{name:"task",component:rn}),i.a.createElement(Bt,{name:"instance/detail",component:ua}),i.a.createElement(Bt,{name:"line",component:za}),i.a.createElement(Bt,{name:"plan",component:La}),i.a.createElement(Bt,{name:"eth-confirm",component:Va}),i.a.createElement(Bt,{name:"account",component:$a}),i.a.createElement(Bt,{name:"login",component:on}),i.a.createElement(Bt,{name:"orders",component:Ha}),i.a.createElement(Bt,{name:"helps",component:Ca}),i.a.createElement(Bt,{name:"help",component:Na}),i.a.createElement(Bt,{name:"order/detail",component:Ka})))},cn=function(e){function t(){return Object(ce.a)(this,t),Object(le.a)(this,Object(ue.a)(t).apply(this,arguments))}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){return i.a.createElement(Lt,{name:"app",defaultView:"main"},i.a.createElement(Bt,{name:"main",component:sn}))}}]),t}(n.Component),ln=a(104),un=a.n(ln),pn=(a(189),a(749),{navigationBars:{},viewManagers:{},transitionTo:function(e,t){window.globalObject.constant.y_deng.version!==window.__version__&&weui.confirm("\u8bf7\u66f4\u65b0\u60a8\u7684\u7248\u672c",function(){te(function(){var e=ne();return window.globalObject.constant.download_urls[e]}(),"_blank")}),console.log(e,t),window.urlQuery=t.query?t.query:{},window.location.href="#"+e.replace("main:","")+(t.query?"?"+un.a.stringify(window.urlQuery):"");var a="__default";(e=e.split(":")).length>1&&(a=e.shift()),e=e[0],pn.viewManagers[a].transitionTo(e,t)}});window.current_app=pn;var hn=function(e){function t(e){var a;return Object(ce.a)(this,t),(a=Object(le.a)(this,Object(ue.a)(t).call(this,e))).state={isActive:!1,touchActive:!1,pinchActive:!1,loading:!0},a}return Object(he.a)(t,e),Object(pe.a)(t,[{key:"getChildContext",value:function(){return{app:pn}}}]),Object(pe.a)(t,[{key:"handlePageId",value:function(e){var t="404",a=e.hash.replace("#","");a.indexOf("?")>0?(window.urlQuery=Q(a).query,a=a.split("?")[0]):window.urlQuery=e.query,t=0===a.length?"home":a;var n=window.pages_history.length;return n>0&&window.pages_history[n-1]===t?(console.log("go -1"),window.go_1=!0):(window.go_1=!1,window.pages_history.push(t)),window.page_id=t,this.props.dispatch({type:"route/setState",payload:{page_id:t,pages_history:window.pages_history,go_1:window.go_1}}),t}},{key:"handleUrl",value:function(e){var t=this,a=Q(e);if(window.urlObject=a,console.log(a),a.query.jwt)X("JWT "+a.query.jwt),this.props.dispatch({type:"app/logged",payload:{access_token:"JWT "+a.query.jwt}}),window.location.href="".concat(a.protocol,"//").concat(a.host).concat(a.pathname).concat(a.hash);else{var n=this.handlePageId(a),i=J();i&&this.props.dispatch({type:"app/logged",payload:{access_token:i}}),0===Object.keys(window.globalObject.constant).length&&this.getConstants(),de.includes(n.split("/")[0])?null===i?$():this.props.dispatch(d(function(){t.finishLoading()})):this.finishLoading()}}},{key:"finishLoading",value:function(){this.setState({loading:!1}),setTimeout(function(){document.querySelector(".global-loading").style.display="none"},700)}},{key:"getSsServerInfo",value:function(e){var t=this;na(function(a){a.length>0?t.set_shadowsocks_status(a[0],"CONNECTED"):t.set_shadowsocks_status(null,"DISCONNECTED"),e&&e()},function(){t.set_shadowsocks_status(null,"DISCONNECTED"),e&&e()})}},{key:"set_shadowsocks_status",value:function(e,t){this.props.dispatch({type:"shadowsocks/setState",payload:{current_connect_status:t,current_connect_id:e}})}},{key:"setConstants",value:function(){this.props.dispatch({type:"app/setState",payload:{constant:window.globalObject.constant}})}},{key:"getConstants",value:function(){var e=this;u.a.get("/constant").then(function(t){var a=t.data,n=a.default_zone,i=a.zones,o=a.download_urls,r=a.y_deng,s=a.plans,l=a.payment,u=a.zone_names;window.globalObject.constant=Object(c.a)({},a,{zones:Z(i,u),default_zone:n,payment:l,y_deng:r,zone_names:u,plans:s,download_urls:o}),["window","mac"].includes(ne())?e.getSsServerInfo(function(){e.setConstants()}):e.setConstants()}).catch(function(){})}},{key:"componentDidMount",value:function(){navigator.splashscreen&&navigator.splashscreen.hide(),this.handleUrl(window.location.href)}},{key:"render",value:function(){if(this.state.loading)return null;if(!this.props.constant)return null;var e="app-wrapper device--"+(window.device||{}).platform;return i.a.createElement("div",{className:e},i.a.createElement("div",{className:"device-silhouette"},i.a.createElement(cn,null)))}}]),t}(n.Component);hn.childContextTypes={app:ge.a.object};var dn=Object(U.b)(function(e){var t=e.app,a=e.route;return{page:a.page,page_id:a.page_id,index:a.index,constant:t.constant}})(hn);a(750),a(751),a(752);window.__version__="1.0.2",se();var mn=Object(s.d)(G,Object(s.a)(V.a)),vn=function(){window.pages_history=[],window.login_reload=!0,window.StatusBar&&window.StatusBar.styleDefault(),r.a.render(i.a.createElement(U.a,{store:mn},i.a.createElement(dn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})};window.cordova?document.addEventListener("deviceready",function(){var e=window.chcp;e.fetchUpdate(function(t,a){t?console.log("--fetchUpdate error--, "+JSON.stringify([t.code,t.description])):(console.log("--fetchUpdate--"+JSON.stringify([a,a.config])),e.isUpdateAvailableForInstallation(function(t,a){t?console.log("No update was loaded => nothing to install"):(window.weui.confirm("\u68c0\u6d4b\u5230\u65b0\u7248\u672c\uff0c\u662f\u5426\u66f4\u65b0",function(){e.installUpdate(function(e){e?(console.log("Failed to install the update with error code: "+e.code),console.log(e.description)):console.log("Update installed!")})},function(){window.weui.alert("\u60a8\u5df2\u62d2\u7edd\u66f4\u65b0")}),console.log("Current content version: "+a.currentVersion),console.log("Ready to be installed:"+a.readyToInstallVersion))}))}),vn()},!1):vn()}},[[208,3,0,5]]]);
//# sourceMappingURL=gcp.94c9eaaf829e1faafb4f.chunk.js.map